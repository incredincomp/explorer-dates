var g=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var P=g((exports,module)=>{var vscode=require("vscode"),isWebRuntime=process.env.VSCODE_WEB==="true",inspectValue=isWebRuntime?r=>{if(typeof r=="string")return r;try{return JSON.stringify(r,null,2)}catch{return"<<unable to serialize log arg>>"}}:eval("require")("util").inspect,DEFAULT_LOG_PROFILE="default",SUPPORTED_PROFILES=new Set(["default","stress","soak"]),LOG_LEVEL_ORDER=["debug","info","warn","error"],DEFAULT_CONSOLE_LEVEL="warn",TEST_CONSOLE_LEVEL=process.env.EXPLORER_DATES_TEST_MODE==="1"?"warn":null,Logger=class{constructor(){this.e=vscode.window.createOutputChannel("Explorer Dates"),this.a=!1,this.l=null,this.c=process.env.EXPLORER_DATES_TEST_MODE==="1",this.o=(process.env.EXPLORER_DATES_LOG_PROFILE||DEFAULT_LOG_PROFILE).toLowerCase(),SUPPORTED_PROFILES.has(this.o)||(this.o=DEFAULT_LOG_PROFILE),this.n=new Map,this.E=DEFAULT_CONSOLE_LEVEL,this.w(),this.l=vscode.workspace.onDidChangeConfiguration(e=>{(e.affectsConfiguration("explorerDates.enableLogging")||e.affectsConfiguration("explorerDates.consoleLogLevel"))&&this.w()})}w(){let e=vscode.workspace.getConfiguration("explorerDates");this.a=e.get("enableLogging",!1);let t=(process.env.EXPLORER_DATES_LOG_LEVEL||"").toLowerCase(),o=(e.get("consoleLogLevel",DEFAULT_CONSOLE_LEVEL)||"").toLowerCase(),n=TEST_CONSOLE_LEVEL||t||o||DEFAULT_CONSOLE_LEVEL;this.E=LOG_LEVEL_ORDER.includes(n)?n:DEFAULT_CONSOLE_LEVEL,TEST_CONSOLE_LEVEL&&(this.a=!1)}setLogProfile(e=DEFAULT_LOG_PROFILE){let t=(e||DEFAULT_LOG_PROFILE).toLowerCase();this.o=SUPPORTED_PROFILES.has(t)?t:DEFAULT_LOG_PROFILE,this.resetThrottle()}resetThrottle(e){if(e){this.n.delete(e);return}this.n.clear()}debug(e,...t){this.a&&this.u("debug",null,e,t)}info(e,...t){this.u("info",null,e,t)}infoWithOptions(e,t,...o){this.u("info",e||null,t,o)}warn(e,...t){this.u("warn",null,e,t)}error(e,t,...o){let s=`[${new Date().toISOString()}] [ERROR] ${e}`;this.c||(this.e.appendLine(s),t instanceof Error?(this.e.appendLine(`Error: ${t.message}`),t.stack&&this.e.appendLine(`Stack: ${t.stack}`)):t&&this.e.appendLine(this.d(t)));let i=this.L(o);i.length>0&&!this.c&&i.forEach(f=>this.e.appendLine(this.d(f)));let l=[];t!=null&&l.push(t),i.length>0&&l.push(...i),this.f("error",s,l)}show(){this.e.show()}clear(){this.e.clear()}dispose(){this.e.dispose(),this.l&&(this.l.dispose(),this.l=null);let e="__explorerDatesLogger";typeof global<"u"&&global[e]===this?global[e]=null:typeof globalThis<"u"&&globalThis[e]===this?globalThis[e]=null:typeof globalThis<"u"&&globalThis.window?.[e]===this&&(globalThis.window[e]=null),loggerInstance===this&&(loggerInstance=null)}u(e,t,o,n){if(e==="debug"&&!this.a||this.y(e,t))return;let i=`[${new Date().toISOString()}] [${e.toUpperCase()}] ${o}`;this.c||this.e.appendLine(i);let l=this.L(n);l.length>0&&!this.c&&l.forEach(f=>this.e.appendLine(this.d(f))),this.f(e,i,l)}L(e){return!e||e.length===0?[]:e.map(t=>{if(typeof t!="function")return t;try{return t()}catch(o){return`<<log arg threw: ${o.message}>>`}})}d(e){try{return typeof e=="string"?e:typeof e=="object"?JSON.stringify(e,null,2):inspectValue(e)}catch(t){return`<<failed to serialize log arg: ${t.message}>>`}}y(e,t){if(e!=="info"||!t||!t.throttleKey)return!1;let o=(t.profile||"stress").toLowerCase();if(!this.b(o))return!1;let n=Number(t.throttleLimit)||50,s=t.throttleKey,i=this.n.get(s)||{count:0,suppressed:0,noticeLogged:!1};if(i.count<n)return i.count+=1,this.n.set(s,i),!1;if(i.suppressed+=1,!i.noticeLogged){i.noticeLogged=!0;let l=`[${new Date().toISOString()}] [INFO] \u23F8\uFE0F Suppressing further logs for "${s}" after ${n} entries (profile=${this.o})`;this.e.appendLine(l),this.f("info",l)}return this.n.set(s,i),!0}b(e){let t=this.o||DEFAULT_LOG_PROFILE;return e==="default"?t===DEFAULT_LOG_PROFILE:t===e}O(e){let t=LOG_LEVEL_ORDER.indexOf(this.E),o=LOG_LEVEL_ORDER.indexOf(e);return t===-1||o===-1?!1:o>=t}f(e,t,o=[]){if(!this.O(e))return;(e==="warn"?console.warn:e==="error"?console.error:console.log).call(console,t,...o)}},GLOBAL_LOGGER_KEY="__explorerDatesLogger";function getLogger(){return typeof global<"u"?(global[GLOBAL_LOGGER_KEY]||(global[GLOBAL_LOGGER_KEY]=new Logger),global[GLOBAL_LOGGER_KEY]):typeof globalThis<"u"?(globalThis[GLOBAL_LOGGER_KEY]||(globalThis[GLOBAL_LOGGER_KEY]=new Logger),globalThis.window&&(globalThis.window[GLOBAL_LOGGER_KEY]=globalThis[GLOBAL_LOGGER_KEY]),globalThis[GLOBAL_LOGGER_KEY]):(loggerInstance||(loggerInstance=new Logger),loggerInstance)}var loggerInstance=null;module.exports={Logger,getLogger}});var N=g((Je,G)=>{var M=require("vscode");function fe(){try{return M?.env?.uiKind===M?.UIKind?.Web}catch{return!1}}G.exports={isWebEnvironment:fe}});var W=g((Ze,U)=>{function w(r=""){return r?r.replace(/\\/g,"/"):""}function he(r=""){let e=w(r);return e?e.split("/").filter(Boolean):[]}function $(r=""){let e=he(r);return e.length?e[e.length-1]:""}function me(r=""){let e=$(r),t=e.lastIndexOf(".");return t<=0?"":e.substring(t).toLowerCase()}function ge(r=""){let e=w(r),t=e.lastIndexOf("/");return t===-1?"":e.substring(0,t)}function Ee(...r){return w(r.filter(Boolean).join("/")).replace(/\/+/g,"/")}function we(r=""){return w(r).toLowerCase()}function Le(r=""){if(!r)return"";if(typeof r=="string")return r;if(typeof r.fsPath=="string"&&r.fsPath.length>0)return r.fsPath;if(typeof r.path=="string"&&r.path.length>0)return r.path;if(typeof r.toString=="function")try{return r.toString(!0)}catch{return r.toString()}return String(r)}function _e(r="",e=""){let t=w(r),o=w(e);return t&&o.startsWith(t)?o.substring(t.length).replace(/^\/+/,""):o}U.exports={normalizePath:w,getFileName:$,getExtension:me,getDirectory:ge,joinPath:Ee,getCacheKey:we,getUriPath:Le,getRelativePath:_e}});var B=g((Qe,K)=>{var T=class extends Error{constructor(e,t,o={}){super(t),this.code=e,this.context=o,this.name="ExtensionError"}},V={FILE_PERMISSION_DENIED:"FILE_PERMISSION_DENIED",WORKSPACE_TOO_LARGE:"WORKSPACE_TOO_LARGE",CHUNK_LOAD_FAILED:"CHUNK_LOAD_FAILED"};function De(r){if(!r)return!1;let e=r.code||r?.name;return["EACCES","EPERM","EROFS","NoPermissions"].includes(e)}var x=class extends T{constructor(e,t,o={}){let{recoverable:n=!0,context:s={}}=o;super(V.CHUNK_LOAD_FAILED,`Failed to load ${e}: ${t}`,{chunkName:e,recoverable:n,...s}),this.name="ChunkLoadError",this.chunkName=e,this.recoverable=n}};function Te(r,e,t={}){let o=require("vscode"),{userFacing:n=!0}=t,s=e?.recoverable??!0;n&&!s&&o.window.showErrorMessage(`Explorer Dates: ${r} feature unavailable. Please reinstall or rebuild the extension.`)}K.exports={ExtensionError:T,ERROR_CODES:V,isPermissionError:De,ChunkLoadError:x,handleChunkFailure:Te}});var Y=g((et,z)=>{function H(){return typeof performance<"u"&&performance.now&&performance.timeOrigin?Math.floor(performance.timeOrigin+performance.now()):typeof Date=="function"&&Date.now?Date.now():16409952e5}function j(r){return!!(r&&typeof r=="object"&&typeof r.getTime=="function")}function _(r){if(!r||isNaN(r))return"Invalid Date";if(typeof Intl<"u"&&Intl.DateTimeFormat)try{return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(r)}catch{}let e=864e5,t=36e5,o=6e4,n=1e3,s=1970,i=Math.floor(r/e),l=r%e,f=Math.floor(l/t),E=Math.floor(l%t/o),h=Math.floor(l%o/n),m=s+Math.floor(i/365.25),C=Math.floor(i%365.25/30.44)+1,A=Math.floor(i%30.44)+1,I=String(Math.min(C,12)).padStart(2,"0"),ce=String(Math.min(A,31)).padStart(2,"0"),ue=String(f).padStart(2,"0"),pe=String(E).padStart(2,"0"),de=String(h).padStart(2,"0");return`${I}/${ce}/${m}, ${ue}:${pe}:${de}`}function ye(r){if(j(r))return r;let e=typeof Date=="function"&&Date.prototype&&Date.prototype.constructor===Date;if(r==null){if(!e){let t=H();return{getTime:()=>t,toLocaleString:()=>_(t),toString:()=>_(t)}}return new Date}if(typeof r=="number")return e?new Date(r):{getTime:()=>r,toLocaleString:()=>_(r),toString:()=>_(r)};if(typeof r=="string"){let t=0;if(e)t=Date.parse(r);else{let o=parseFloat(r);t=isNaN(o)?0:o}return e?new Date(r):{getTime:()=>t,toLocaleString:()=>_(t),toString:()=>_(t)}}return e?new Date(r):{getTime:()=>0,toLocaleString:()=>"Invalid Date",toString:()=>"Invalid Date"}}z.exports={ensureDate:ye,isDateLike:j,getCurrentTimestamp:H}});var J=g((tt,X)=>{var c=require("vscode"),{isWebEnvironment:be}=N(),{normalizePath:Oe}=W(),{ExtensionError:Se,ERROR_CODES:Ce,isPermissionError:Ae}=B(),{ensureDate:v}=Y(),q=process.env.VSCODE_WEB==="true",xe=process.env.EXPLORER_DATES_FORCE_VSCODE_FS==="1",u=null;if(!q&&!xe)try{u=require("fs").promises}catch{u=null}var y=class{constructor(){this.isWeb=q||be()}t(e){if(!e)return"";if(typeof e=="string")return e;if(e&&typeof e=="object"&&typeof e.fsPath=="string")return e.fsPath;if(e&&typeof e=="object"&&typeof e.path=="string")return e.path;if(typeof e=="object"){if(typeof e.fsPath=="string")return e.fsPath;if(typeof e.path=="string")return e.path}return String(e)}r(e){if(e&&typeof e=="object"&&typeof e.scheme=="string"&&typeof e.path=="string")return e;if(typeof e=="string")return c.Uri.file(e);if(e&&typeof e=="object"){if(e.uri&&e.uri!==e)try{return this.r(e.uri)}catch{}if(typeof e.fsPath=="string"&&e.fsPath.length>0)return c.Uri.file(e.fsPath);if(typeof e.path=="string"&&e.path.length>0)return c.Uri.file(e.path);if(typeof e.href=="string"&&e.href.length>0)return c.Uri.parse(e.href);if(typeof e.scheme=="string")return c.Uri.from({scheme:e.scheme,authority:e.authority||"",path:e.path||e.fsPath||"",query:e.query||"",fragment:e.fragment||""});if(typeof e.toString=="function")try{let t=e.toString(!0);if(t&&t!=="[object Object]")return c.Uri.parse(t)}catch{let t=e.toString();if(t&&t!=="[object Object]")return c.Uri.parse(t)}}throw new Error(`Unsupported target type: ${typeof e}`)}async stat(e){if(!this.isWeb&&u)return u.stat(this.t(e));let t=this.r(e),o=await c.workspace.fs.stat(t);return{...o,mtime:v(o.mtime),ctime:v(o.ctime),birthtime:v(o.ctime),isFile:()=>o.type===c.FileType.File,isDirectory:()=>o.type===c.FileType.Directory}}async readFile(e,t="utf8"){if(!this.isWeb&&u)return u.readFile(this.t(e),t);let o=this.r(e),n=await c.workspace.fs.readFile(o);return t===null||t==="binary"?n:new TextDecoder(t).decode(n)}async writeFile(e,t,o="utf8"){let n=this.t(e);try{if(!this.isWeb&&u)return u.writeFile(n,t,o);let s=this.r(e),i=typeof t=="string"?new TextEncoder().encode(t):t;await c.workspace.fs.writeFile(s,i)}catch(s){this._("write file",n,s)}}async mkdir(e,t={recursive:!0}){let o=this.t(e);try{if(!this.isWeb&&u)return u.mkdir(o,t);let n=this.r(e);await c.workspace.fs.createDirectory(n)}catch(n){this._("create directory",o,n)}}async readdir(e,t={withFileTypes:!1}){if(!this.isWeb&&u)return u.readdir(this.t(e),t);let o=this.r(e),n=await c.workspace.fs.readDirectory(o);return t.withFileTypes?n.map(([s,i])=>({name:s,isDirectory:()=>i===c.FileType.Directory,isFile:()=>i===c.FileType.File})):n.map(([s])=>s)}async delete(e,t={recursive:!1}){if(!this.isWeb&&u){let n=this.t(e);return t.recursive?u.rm?u.rm(n,t):u.rmdir(n,t):u.unlink(n)}let o=this.r(e);await c.workspace.fs.delete(o,t)}async exists(e){try{return await this.stat(e),!0}catch{return!1}}async ensureDirectory(e){let t=Oe(this.t(e));await this.mkdir(t,{recursive:!0})}_(e,t,o){throw Ae(o)?new Se(Ce.FILE_PERMISSION_DENIED,`Permission denied while attempting to ${e}`,{path:t,code:o.code}):o}},ve=new y;X.exports={FileSystemAdapter:y,fileSystem:ve}});var ee=g((rt,Q)=>{var Fe=["Ja","Fe","Mr","Ap","My","Jn","Jl","Au","Se","Oc","No","De"],Re=Number(process.env.EXPLORER_DATES_DECORATION_POOL_SIZE||2048),ke=Number(process.env.EXPLORER_DATES_FLYWEIGHT_CACHE_SIZE||4096),Ie=Number(process.env.EXPLORER_DATES_WORKSPACE_BALANCED_THRESHOLD||15e3),Pe=Number(process.env.EXPLORER_DATES_WORKSPACE_LARGE_THRESHOLD||25e4),Z=Number(process.env.EXPLORER_DATES_WORKSPACE_EXTREME_THRESHOLD||4e5),Me=Number(process.env.EXPLORER_DATES_WORKSPACE_SCAN_MAX_RESULTS||Math.min(Z+1,50001)),Ge={ADVANCED_CACHE:"explorerDates.advancedCache",ADVANCED_CACHE_METADATA:"explorerDates.advancedCacheMetadata",TEMPLATE_STORE:"explorerDates.templates",WEB_GIT_NOTICE:"explorerDates.webGitNotice"},Ne="explorerDatesChunks",$e="__explorerDatesChunks";Q.exports={DEFAULT_CACHE_TIMEOUT:12e4,DEFAULT_MAX_CACHE_SIZE:1e4,DEFAULT_PERSISTENT_CACHE_TTL:864e5,DEFAULT_DECORATION_POOL_SIZE:Re,DEFAULT_FLYWEIGHT_CACHE_SIZE:ke,MAX_BADGE_LENGTH:2,MONTH_ABBREVIATIONS:Fe,WORKSPACE_SCALE_BALANCED_THRESHOLD:Ie,WORKSPACE_SCALE_LARGE_THRESHOLD:Pe,WORKSPACE_SCALE_EXTREME_THRESHOLD:Z,WORKSPACE_SCAN_MAX_RESULTS:Me,GLOBAL_STATE_KEYS:Ge,WEB_CHUNK_GLOBAL_KEY:Ne,LEGACY_WEB_CHUNK_GLOBAL_KEY:$e}});var se=g((ot,ne)=>{var Ue="__explorerDatesVscode",L=null,b=null,O=!1;function We(){try{return globalThis[Ue]}catch{return}}function oe(){if(b)return b;let r={get:()=>{},async update(){},inspect:()=>({defaultValue:void 0,globalValue:void 0,workspaceValue:void 0,workspaceFolderValue:void 0})};return b={workspace:{workspaceFolders:[],getConfiguration:()=>r},ConfigurationTarget:{Global:1,Workspace:2,WorkspaceFolder:3}},b}var Ve=new Set(["MODULE_NOT_FOUND","ERR_MODULE_NOT_FOUND","WEB_NATIVE_MODULE"]);function Ke(r){return!r||r.code&&Ve.has(r.code)?!0:(typeof r.message=="string"?r.message:"").includes("Cannot find module 'vscode'")}function D(){let r=We();if(r)return L=F(r),O=!1,L;if(L&&!O)return L;try{L=F(require("vscode")),O=!1}catch(e){if(Ke(e))L=F(oe()),O=!0;else throw e}return L}var p=new Proxy({},{get(r,e){return D()[e]},set(r,e,t){return D()[e]=t,!0},has(r,e){return e in D()},ownKeys(){return Reflect.ownKeys(D())},getOwnPropertyDescriptor(r,e){let t=Object.getOwnPropertyDescriptor(D(),e);return t&&(t.configurable=!0),t}}),Be="explorerDates",te="__explorerDatesConfigWrapped";function re(r){return!r||typeof r!="object"?{get:()=>{},async update(){},inspect:()=>({defaultValue:void 0,globalValue:void 0,workspaceValue:void 0,workspaceFolderValue:void 0})}:(typeof r.get!="function"&&(r.get=()=>{}),typeof r.update!="function"&&(r.update=async()=>{}),typeof r.inspect!="function"&&(r.inspect=()=>({defaultValue:void 0,globalValue:void 0,workspaceValue:void 0,workspaceFolderValue:void 0})),r)}function F(r){if(!r)return oe();r.ConfigurationTarget||(r.ConfigurationTarget={Global:1,Workspace:2,WorkspaceFolder:3}),r.workspace||(r.workspace={});let e=r.workspace.getConfiguration;if(typeof e=="function"&&!e[te]){let t=function(...o){let n=e.apply(this,o);return re(n)};t[te]=!0,r.workspace.getConfiguration=t}else typeof e!="function"&&(r.workspace.getConfiguration=()=>re());return Array.isArray(r.workspace.workspaceFolders)||(r.workspace.workspaceFolders=[]),r}var S=class{constructor(e={}){this.S=e.defaultSection||Be}getValue(e,t={}){let{section:o,resource:n}=t,s=this.h(e,o);return this.m(s.section,n).get(s.key)}inspect(e,t={}){let{section:o,resource:n}=t,s=this.h(e,o);return this.m(s.section,n).inspect(s.key)}async updateSetting(e,t,o={}){let{scope:n="auto",resource:s,section:i,force:l=!1}=o,f=this.h(e,i),E=this.m(f.section,s),h=this.C(n,s),m=E.get(f.key),C=E.inspect(f.key),A=this.A(C,h);return t!==void 0&&this.x(m,t)&&!l&&A!==void 0?{key:f.fullKey,updated:!1,reason:"unchanged"}:(await E.update(f.key,t,h),{key:f.fullKey,updated:!0})}async applySettings(e,t={}){let o=Array.isArray(e)?e:Object.entries(e).map(([s,i])=>({key:s,value:i})),n=[];for(let s of o){let i={...t,...s.options||{}};n.push(await this.updateSetting(s.key,s.value,i))}return n}async clearSetting(e,t={}){return this.updateSetting(e,void 0,t)}m(e,t){return p.workspace.getConfiguration(e||void 0,t)}h(e,t){let o=t||this.S;if(!o)return{section:void 0,key:e,fullKey:e};if(e.startsWith(`${o}.`)){let n=e.slice(o.length+1);return{section:o,key:n,fullKey:e}}return e.includes(".")?{section:void 0,key:e,fullKey:e}:{section:o,key:e,fullKey:`${o}.${e}`}}C(e,t){return e&&e!=="auto"?this.v(e)||p.ConfigurationTarget.Workspace:t?p.ConfigurationTarget.WorkspaceFolder:p.workspace.workspaceFolders&&p.workspace.workspaceFolders.length>0?p.ConfigurationTarget.Workspace:p.ConfigurationTarget.Global}v(e){switch(e){case"user":return p.ConfigurationTarget.Global;case"workspace":return p.ConfigurationTarget.Workspace;case"workspaceFolder":return p.ConfigurationTarget.WorkspaceFolder;default:return}}R(e){switch(e){case p.ConfigurationTarget.Global:return"user";case p.ConfigurationTarget.Workspace:return"workspace";case p.ConfigurationTarget.WorkspaceFolder:return"workspaceFolder";default:return"unknown"}}x(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="object")try{return JSON.stringify(e)===JSON.stringify(t)}catch{return!1}return!1}A(e,t){if(e)switch(t){case p.ConfigurationTarget.Global:return e.globalValue;case p.ConfigurationTarget.Workspace:return e.workspaceValue;case p.ConfigurationTarget.WorkspaceFolder:return e.workspaceFolderValue;default:return}}},R=null;function He(r){return(!R||r&&r.forceNew)&&(R=new S(r)),R}ne.exports={SettingsCoordinator:S,getSettingsCoordinator:He}});var ae=g((nt,ie)=>{var a=require("vscode"),{getLogger:je}=P(),{fileSystem:ze}=J(),{GLOBAL_STATE_KEYS:Ye}=ee(),{getSettingsCoordinator:qe}=se(),d=je(),k=class{constructor(e){this.k=e,this.p=e?.globalState||null,this.D=Ye.TEMPLATE_STORE,this.s=ze,this.F=qe(),this.templatesPath=null,this.builtInTemplates=this.getBuiltInTemplates(),d.info("Workspace Templates Manager initialized")}i(){return this.p?this.p.get(this.D,{}):{}}async g(e){if(!this.p)throw new Error("Template storage unavailable");await this.p.update(this.D,e)}T(e){return this.builtInTemplates[e]?this.builtInTemplates[e]:this.i()[e]}getBuiltInTemplates(){return{"web-development":{name:"Web Development",description:"Optimized for web projects with focus on source files",settings:{"explorerDates.showDateDecorations":!0,"explorerDates.dateDecorationFormat":"relative-short","explorerDates.colorScheme":"file-type","explorerDates.showFileSize":!0,"explorerDates.fadeOldFiles":!0,"explorerDates.fadeThreshold":14,"explorerDates.excludedPatterns":["**/node_modules/**","**/dist/**","**/build/**","**/.next/**","**/coverage/**"],"explorerDates.enableContextMenu":!0,"explorerDates.showGitInfo":"author"}},"data-science":{name:"Data Science",description:"Focused on notebooks and data files with detailed timestamps",settings:{"explorerDates.showDateDecorations":!0,"explorerDates.dateDecorationFormat":"absolute-long","explorerDates.colorScheme":"none","explorerDates.showFileSize":!0,"explorerDates.showGitInfo":"none","explorerDates.highContrastMode":!1,"explorerDates.excludedPatterns":["**/__pycache__/**","**/.ipynb_checkpoints/**","**/data/raw/**"],"explorerDates.badgePriority":"size"}},documentation:{name:"Documentation",description:"Clean display for documentation projects",settings:{"explorerDates.showDateDecorations":!0,"explorerDates.dateDecorationFormat":"smart","explorerDates.colorScheme":"subtle","explorerDates.showFileSize":!1,"explorerDates.excludedPatterns":["**/node_modules/**","**/.git/**"],"explorerDates.fadeOldFiles":!1,"explorerDates.enableContextMenu":!1}},enterprise:{name:"Enterprise",description:"Full feature set with Git integration and analytics",settings:{"explorerDates.showDateDecorations":!0,"explorerDates.dateDecorationFormat":"smart","explorerDates.colorScheme":"recency","explorerDates.showFileSize":!0,"explorerDates.showGitInfo":"author","explorerDates.enableContextMenu":!0,"explorerDates.showStatusBar":!0,"explorerDates.smartExclusions":!0,"explorerDates.progressiveLoading":!0,"explorerDates.persistentCache":!0,"explorerDates.enableExportReporting":!0}},minimal:{name:"Minimal",description:"Clean, distraction-free setup",settings:{"explorerDates.showDateDecorations":!0,"explorerDates.dateDecorationFormat":"relative-short","explorerDates.colorScheme":"none","explorerDates.showFileSize":!1,"explorerDates.badgePriority":"time","explorerDates.enableContextMenu":!1,"explorerDates.progressiveLoading":!1}}}}async saveCurrentConfiguration(e,t=""){try{let o=a.workspace.getConfiguration("explorerDates"),n={},s=o.inspect();if(s)for(let[h,m]of Object.entries(s))m&&typeof m=="object"&&"workspaceValue"in m?n[`explorerDates.${h}`]=m.workspaceValue:m&&typeof m=="object"&&"globalValue"in m&&(n[`explorerDates.${h}`]=m.globalValue);let i={name:e,description:t,createdAt:new Date().toISOString(),version:"1.0.0",settings:n},l=e.toLowerCase().replace(/[^a-z0-9-]/g,"-"),f=this.i();f[l]=i,await this.g(f);let E=o.get("templateSyncPath","");if(E&&!this.s.isWeb)try{let h=`${E.replace(/[/\\]?$/,"")}/${l}.json`;await this.s.writeFile(h,JSON.stringify(i,null,2)),d.info(`Synced template to ${h}`)}catch(h){d.warn("Failed to sync template to disk path",h)}return a.window.showInformationMessage(`Template "${e}" saved successfully!`),d.info(`Saved workspace template: ${e}`),!0}catch(o){return d.error("Failed to save template:",o),a.window.showErrorMessage(`Failed to save template: ${o.message}`),!1}}async loadTemplate(e){try{let t=this.T(e);if(!t)throw new Error(`Template "${e}" not found`);let n=(await this.F.applySettings(t.settings,{scope:"workspace",reason:`apply-template:${e}`})).filter(i=>i.updated).length,s=n>0?`Template "${t.name}" applied with ${n} setting${n===1?"":"s"} updated.`:`Template "${t.name}" already matched your workspace.`;return a.window.showInformationMessage(s),d.info(`Applied workspace template: ${t.name}`,{changedCount:n}),!0}catch(t){return d.error("Failed to load template:",t),a.window.showErrorMessage(`Failed to load template: ${t.message}`),!1}}async getAvailableTemplates(){let e=[];for(let[t,o]of Object.entries(this.builtInTemplates))e.push({id:t,name:o.name,description:o.description,type:"built-in",createdAt:null});try{let t=this.i();for(let[o,n]of Object.entries(t))e.push({id:o,name:n.name,description:n.description,type:"custom",createdAt:n.createdAt})}catch(t){d.error("Failed to load custom templates:",t)}return e}async deleteTemplate(e){try{if(this.builtInTemplates[e])return a.window.showErrorMessage("Cannot delete built-in templates"),!1;let t=this.i();if(!t[e])throw new Error(`Template "${e}" not found`);return delete t[e],await this.g(t),a.window.showInformationMessage(`Template "${e}" deleted successfully!`),d.info(`Deleted workspace template: ${e}`),!0}catch(t){return d.error("Failed to delete template:",t),a.window.showErrorMessage(`Failed to delete template: ${t.message}`),!1}}async exportTemplate(e,t){try{let o=this.T(e);if(!o)throw new Error(`Template "${e}" not found`);let n=JSON.stringify(o,null,2);if(this.s.isWeb){let i=encodeURIComponent(n);return await a.env.openExternal(a.Uri.parse(`data:application/json;charset=utf-8,${i}`)),a.window.showInformationMessage("Template download triggered in browser"),!0}let s=t instanceof a.Uri?t.fsPath:t;return await this.s.writeFile(s,n),a.window.showInformationMessage(`Template exported to ${s}`),d.info(`Exported template ${e} to ${s}`),!0}catch(o){return d.error("Failed to export template:",o),a.window.showErrorMessage(`Failed to export template: ${o.message}`),!1}}async importTemplate(e){try{let t=e instanceof a.Uri?e:a.Uri.file(e),o=await this.s.readFile(t,"utf8"),n=JSON.parse(o);if(!n.name||!n.settings)throw new Error("Invalid template format");let s=n.name.toLowerCase().replace(/[^a-z0-9-]/g,"-"),i=this.i();return i[s]=n,await this.g(i),a.window.showInformationMessage(`Template "${n.name}" imported successfully!`),d.info(`Imported template: ${n.name}`),!0}catch(t){return d.error("Failed to import template:",t),a.window.showErrorMessage(`Failed to import template: ${t.message}`),!1}}async showTemplateManager(){try{let e=await this.getAvailableTemplates(),t=a.window.createWebviewPanel("templateManager","Explorer Dates - Template Manager",a.ViewColumn.One,{enableScripts:!0,retainContextWhenHidden:!0});t.webview.html=this.getTemplateManagerHtml(e),t.webview.onDidReceiveMessage(async o=>{switch(o.command){case"loadTemplate":await this.loadTemplate(o.templateId);break;case"deleteTemplate":{await this.deleteTemplate(o.templateId);let n=await this.getAvailableTemplates();t.webview.postMessage({command:"refreshTemplates",templates:n});break}case"exportTemplate":{let n=await a.window.showSaveDialog({defaultUri:a.Uri.file(`${o.templateId}.json`),filters:{JSON:["json"]}});n&&await this.exportTemplate(o.templateId,n);break}case"saveConfig":{await this.saveCurrentConfiguration(o.name,o.description);let n=await this.getAvailableTemplates();t.webview.postMessage({command:"refreshTemplates",templates:n});break}case"importTemplate":{let n=await a.window.showOpenDialog({canSelectMany:!1,filters:{JSON:["json"]}});if(n&&n[0]){await this.importTemplate(n[0]);let s=await this.getAvailableTemplates();t.webview.postMessage({command:"refreshTemplates",templates:s})}break}}}),d.info("Template Manager opened")}catch(e){d.error("Failed to show template manager:",e),a.window.showErrorMessage("Failed to open Template Manager")}}getTemplateManagerHtml(e){return`<!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Template Manager</title>
            <style>
                body { 
                    font-family: var(--vscode-font-family); 
                    color: var(--vscode-foreground);
                    background-color: var(--vscode-editor-background);
                    padding: 20px;
                }
                .header {
                    margin-bottom: 30px;
                    padding-bottom: 15px;
                    border-bottom: 1px solid var(--vscode-panel-border);
                }
                .templates-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
                    gap: 20px;
                }
                .template-item {
                    padding: 20px;
                    border: 1px solid var(--vscode-panel-border);
                    border-radius: 8px;
                    background-color: var(--vscode-editor-background);
                }
                .template-item.built-in {
                    border-left: 4px solid var(--vscode-charts-blue);
                }
                .template-item.custom {
                    border-left: 4px solid var(--vscode-charts-green);
                }
                .template-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 10px;
                }
                .template-header h3 {
                    margin: 0;
                    color: var(--vscode-foreground);
                }
                .template-type {
                    background-color: var(--vscode-badge-background);
                    color: var(--vscode-badge-foreground);
                    padding: 2px 8px;
                    border-radius: 12px;
                    font-size: 12px;
                }
                .template-description {
                    color: var(--vscode-descriptionForeground);
                    margin-bottom: 15px;
                }
                .template-actions {
                    display: flex;
                    gap: 10px;
                }
                button {
                    background-color: var(--vscode-button-background);
                    color: var(--vscode-button-foreground);
                    border: none;
                    padding: 8px 16px;
                    border-radius: 4px;
                    cursor: pointer;
                    font-size: 13px;
                }
                button:hover {
                    background-color: var(--vscode-button-hoverBackground);
                }
                button.delete {
                    background-color: var(--vscode-errorForeground);
                    color: white;
                }
                button.delete:hover {
                    background-color: var(--vscode-errorForeground);
                    opacity: 0.8;
                }
                .actions {
                    margin-bottom: 30px;
                }
                .actions button {
                    margin-right: 10px;
                }
            </style>
        </head>
        <body>
            <div class="header">
                <h1>\u{1F3A8} Explorer Dates Template Manager</h1>
                <p>Apply, manage, and share your decoration configurations</p>
            </div>
            
            <div class="actions">
                <button onclick="saveCurrentConfig()">\u{1F4BE} Save Current Config</button>
                <button onclick="importTemplate()">\u{1F4E5} Import Template</button>
            </div>

            <div class="templates-grid">
                ${e.map(o=>`
            <div class="template-item ${o.type}">
                <div class="template-header">
                    <h3>${o.name}</h3>
                    <span class="template-type">${o.type}</span>
                </div>
                <p class="template-description">${o.description}</p>
                ${o.createdAt?`<small>Created: ${new Date(o.createdAt).toLocaleDateString()}</small>`:""}
                <div class="template-actions">
                    <button onclick="loadTemplate('${o.id}')">Apply</button>
                    <button onclick="exportTemplate('${o.id}')">Export</button>
                    ${o.type==="custom"?`<button onclick="deleteTemplate('${o.id}')" class="delete">Delete</button>`:""}
                </div>
            </div>
        `).join("")}
            </div>

            <script>
                const vscode = acquireVsCodeApi();
                
                function loadTemplate(templateId) {
                    vscode.postMessage({ command: 'loadTemplate', templateId: templateId });
                }
                
                function deleteTemplate(templateId) {
                    if (confirm('Are you sure you want to delete this template?')) {
                        vscode.postMessage({ command: 'deleteTemplate', templateId: templateId });
                    }
                }
                
                function exportTemplate(templateId) {
                    vscode.postMessage({ command: 'exportTemplate', templateId: templateId });
                }
                
                function saveCurrentConfig() {
                    const name = prompt('Enter template name:');
                    if (name) {
                        const description = prompt('Enter description (optional):') || '';
                        vscode.postMessage({ command: 'saveConfig', name: name, description: description });
                    }
                }
                
                function importTemplate() {
                    vscode.postMessage({ command: 'importTemplate' });
                }

                window.addEventListener('message', event => {
                    const message = event.data;
                    if (message.command === 'refreshTemplates') {
                        location.reload();
                    }
                });
            </script>
        </body>
        </html>`}};ie.exports={WorkspaceTemplatesManager:k}});var{WorkspaceTemplatesManager:le}=ae();module.exports={WorkspaceTemplatesManager:le,createWorkspaceTemplatesManager:r=>new le(r)};
