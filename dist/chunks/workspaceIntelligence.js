var p=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var w=p((exports,module)=>{var vscode=require("vscode"),isWebRuntime=process.env.VSCODE_WEB==="true",inspectValue=isWebRuntime?n=>{if(typeof n=="string")return n;try{return JSON.stringify(n,null,2)}catch{return"<<unable to serialize log arg>>"}}:eval("require")("util").inspect,DEFAULT_LOG_PROFILE="default",SUPPORTED_PROFILES=new Set(["default","stress","soak"]),LOG_LEVEL_ORDER=["debug","info","warn","error"],DEFAULT_CONSOLE_LEVEL="warn",Logger=class{constructor(){this.s=vscode.window.createOutputChannel("Explorer Dates"),this.x=!1,this.y=null,this.f=(process.env.EXPLORER_DATES_LOG_PROFILE||DEFAULT_LOG_PROFILE).toLowerCase(),SUPPORTED_PROFILES.has(this.f)||(this.f=DEFAULT_LOG_PROFILE),this.d=new Map,this.v=DEFAULT_CONSOLE_LEVEL,this._(),this.y=vscode.workspace.onDidChangeConfiguration(e=>{(e.affectsConfiguration("explorerDates.enableLogging")||e.affectsConfiguration("explorerDates.consoleLogLevel"))&&this._()})}_(){let e=vscode.workspace.getConfiguration("explorerDates");this.x=e.get("enableLogging",!1);let t=(e.get("consoleLogLevel",DEFAULT_CONSOLE_LEVEL)||"").toLowerCase();this.v=LOG_LEVEL_ORDER.includes(t)?t:DEFAULT_CONSOLE_LEVEL}setLogProfile(e=DEFAULT_LOG_PROFILE){let t=(e||DEFAULT_LOG_PROFILE).toLowerCase();this.f=SUPPORTED_PROFILES.has(t)?t:DEFAULT_LOG_PROFILE,this.resetThrottle()}resetThrottle(e){if(e){this.d.delete(e);return}this.d.clear()}debug(e,...t){this.x&&this.E("debug",null,e,t)}info(e,...t){this.E("info",null,e,t)}infoWithOptions(e,t,...r){this.E("info",e||null,t,r)}warn(e,...t){this.E("warn",null,e,t)}error(e,t,...r){let i=`[${new Date().toISOString()}] [ERROR] ${e}`;this.s.appendLine(i),t instanceof Error?(this.s.appendLine(`Error: ${t.message}`),t.stack&&this.s.appendLine(`Stack: ${t.stack}`)):t&&this.s.appendLine(this.D(t));let o=this.F(r);o.length>0&&o.forEach(a=>this.s.appendLine(this.D(a))),this.L("error",i,[t,...o])}show(){this.s.show()}clear(){this.s.clear()}dispose(){this.s.dispose(),this.y&&(this.y.dispose(),this.y=null);let e="__explorerDatesLogger";typeof global<"u"&&global[e]===this?global[e]=null:typeof globalThis<"u"&&globalThis[e]===this?globalThis[e]=null:typeof window<"u"&&window[e]===this&&(window[e]=null),loggerInstance===this&&(loggerInstance=null)}E(e,t,r,s){if(e==="debug"&&!this.x||this.U(e,t))return;let o=`[${new Date().toISOString()}] [${e.toUpperCase()}] ${r}`;this.s.appendLine(o);let a=this.F(s);a.length>0&&a.forEach(l=>this.s.appendLine(this.D(l))),this.L(e,o,a)}F(e){return!e||e.length===0?[]:e.map(t=>{if(typeof t!="function")return t;try{return t()}catch(r){return`<<log arg threw: ${r.message}>>`}})}D(e){try{return typeof e=="string"?e:typeof e=="object"?JSON.stringify(e,null,2):inspectValue(e)}catch(t){return`<<failed to serialize log arg: ${t.message}>>`}}U(e,t){if(e!=="info"||!t||!t.throttleKey)return!1;let r=(t.profile||"stress").toLowerCase();if(!this.z(r))return!1;let s=Number(t.throttleLimit)||50,i=t.throttleKey,o=this.d.get(i)||{count:0,suppressed:0,noticeLogged:!1};if(o.count<s)return o.count+=1,this.d.set(i,o),!1;if(o.suppressed+=1,!o.noticeLogged){o.noticeLogged=!0;let a=`[${new Date().toISOString()}] [INFO] \u23F8\uFE0F Suppressing further logs for "${i}" after ${s} entries (profile=${this.f})`;this.s.appendLine(a),this.L("info",a)}return this.d.set(i,o),!0}z(e){let t=this.f||DEFAULT_LOG_PROFILE;return e==="default"?t===DEFAULT_LOG_PROFILE:t===e}N(e){let t=LOG_LEVEL_ORDER.indexOf(this.v),r=LOG_LEVEL_ORDER.indexOf(e);return t===-1||r===-1?!1:r>=t}L(e,t,r=[]){if(!this.N(e))return;(e==="warn"?console.warn:e==="error"?console.error:console.log).call(console,t,...r)}},GLOBAL_LOGGER_KEY="__explorerDatesLogger";function getLogger(){return typeof global<"u"?(global[GLOBAL_LOGGER_KEY]||(global[GLOBAL_LOGGER_KEY]=new Logger),global[GLOBAL_LOGGER_KEY]):typeof globalThis<"u"?(globalThis[GLOBAL_LOGGER_KEY]||(globalThis[GLOBAL_LOGGER_KEY]=new Logger),globalThis[GLOBAL_LOGGER_KEY]):typeof window<"u"?(window[GLOBAL_LOGGER_KEY]||(window[GLOBAL_LOGGER_KEY]=new Logger),window[GLOBAL_LOGGER_KEY]):(loggerInstance||(loggerInstance=new Logger),loggerInstance)}var loggerInstance=null;module.exports={Logger,getLogger}});var D=p((He,M)=>{function m(n=""){return n?n.replace(/\\/g,"/"):""}function he(n=""){let e=m(n);return e?e.split("/").filter(Boolean):[]}function W(n=""){let e=he(n);return e.length?e[e.length-1]:""}function pe(n=""){let e=W(n),t=e.lastIndexOf(".");return t<=0?"":e.substring(t).toLowerCase()}function ge(n=""){let e=m(n),t=e.lastIndexOf("/");return t===-1?"":e.substring(0,t)}function me(...n){return m(n.filter(Boolean).join("/")).replace(/\/+/g,"/")}function be(n=""){return m(n).toLowerCase()}function ye(n=""){if(!n)return"";if(typeof n=="string")return n;if(typeof n.fsPath=="string"&&n.fsPath.length>0)return n.fsPath;if(typeof n.path=="string"&&n.path.length>0)return n.path;if(typeof n.toString=="function")try{return n.toString(!0)}catch{return n.toString()}return String(n)}function Ee(n="",e=""){let t=m(n),r=m(e);return t&&r.startsWith(t)?r.substring(t.length).replace(/^\/+/,""):r}M.exports={normalizePath:m,getFileName:W,getExtension:pe,getDirectory:ge,joinPath:me,getCacheKey:be,getUriPath:ye,getRelativePath:Ee}});var _=p((je,N)=>{function U(){return typeof performance<"u"&&performance.now&&performance.timeOrigin?Math.floor(performance.timeOrigin+performance.now()):typeof Date=="function"&&Date.now?Date.now():16409952e5}function z(n){return!!(n&&typeof n=="object"&&typeof n.getTime=="function")}function E(n){if(!n||isNaN(n))return"Invalid Date";if(typeof Intl<"u"&&Intl.DateTimeFormat)try{return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(n)}catch{}let e=864e5,t=36e5,r=6e4,s=1e3,i=1970,o=4,a=Math.floor(n/e),l=n%e,h=Math.floor(l/t),g=Math.floor(l%t/r),v=Math.floor(l%r/s),k=i+Math.floor(a/365.25),x=Math.floor(a%365.25/30.44)+1,ae=Math.floor(a%30.44)+1,le=String(Math.min(x,12)).padStart(2,"0"),ce=String(Math.min(ae,31)).padStart(2,"0"),ue=String(h).padStart(2,"0"),fe=String(g).padStart(2,"0"),de=String(v).padStart(2,"0");return`${le}/${ce}/${k}, ${ue}:${fe}:${de}`}function we(n){if(z(n))return n;let e=typeof Date=="function"&&Date.prototype&&Date.prototype.constructor===Date;if(n==null){if(!e){let t=U();return{getTime:()=>t,toLocaleString:()=>E(t),toString:()=>E(t)}}return new Date}if(typeof n=="number")return e?new Date(n):{getTime:()=>n,toLocaleString:()=>E(n),toString:()=>E(n)};if(typeof n=="string"){let t=0;if(e)t=Date.parse(n);else{let r=parseFloat(n);t=isNaN(r)?0:r}return e?new Date(n):{getTime:()=>t,toLocaleString:()=>E(t),toString:()=>E(t)}}return e?new Date(n):{getTime:()=>0,toLocaleString:()=>"Invalid Date",toString:()=>"Invalid Date"}}N.exports={ensureDate:we,isDateLike:z,getCurrentTimestamp:U}});var $=p((qe,K)=>{var c={onboarding:34,analysisCommands:23,exportReporting:17,extensionApi:15,workspaceTemplates:14,advancedCache:28,workspaceIntelligence:31,incrementalWorkers:19},y=99,b={minimal:{id:"minimal",name:"Minimal",description:"Core decorations only, smallest bundle (~99KB)",targetBundleSize:y,settings:{"explorerDates.enableOnboardingSystem":!1,"explorerDates.enableAnalysisCommands":!1,"explorerDates.enableExportReporting":!1,"explorerDates.enableExtensionApi":!1,"explorerDates.enableWorkspaceTemplates":!1,"explorerDates.enableAdvancedCache":!1,"explorerDates.enableWorkspaceIntelligence":!1,"explorerDates.enableIncrementalWorkers":!1,"explorerDates.showDateDecorations":!0,"explorerDates.dateDecorationFormat":"relative-short"},targetScenarios:["Resource-constrained environments","Basic file dates only","Large remote workspaces"]},balanced:{id:"balanced",name:"Balanced",description:"Essential features with optimization (~200KB)",targetBundleSize:y+c.onboarding+c.workspaceTemplates+c.advancedCache+c.analysisCommands,settings:{"explorerDates.enableOnboardingSystem":!0,"explorerDates.enableAnalysisCommands":!0,"explorerDates.enableExportReporting":!1,"explorerDates.enableExtensionApi":!1,"explorerDates.enableWorkspaceTemplates":!0,"explorerDates.enableAdvancedCache":!0,"explorerDates.enableWorkspaceIntelligence":!1,"explorerDates.enableIncrementalWorkers":!1,"explorerDates.performanceMode":!0,"explorerDates.smartFileWatching":!0},targetScenarios:["Most development workflows","Remote environments","Medium to large workspaces"]},"web-development":{id:"web-development",name:"Web Development",description:"Optimized for web projects (~240KB)",targetBundleSize:y+c.onboarding+c.analysisCommands+c.workspaceTemplates+c.advancedCache+c.incrementalWorkers,settings:{"explorerDates.enableOnboardingSystem":!0,"explorerDates.enableAnalysisCommands":!0,"explorerDates.enableExportReporting":!1,"explorerDates.enableExtensionApi":!1,"explorerDates.enableWorkspaceTemplates":!0,"explorerDates.enableAdvancedCache":!0,"explorerDates.enableWorkspaceIntelligence":!1,"explorerDates.enableIncrementalWorkers":!0,"explorerDates.showGitInfo":"author","explorerDates.colorScheme":"file-type"},targetScenarios:["JavaScript/TypeScript projects","Node.js development","Frontend frameworks"]},enterprise:{id:"enterprise",name:"Enterprise",description:"Full feature set with reporting and API (~380KB)",targetBundleSize:Object.values(c).reduce((n,e)=>n+e,y),settings:{"explorerDates.enableOnboardingSystem":!0,"explorerDates.enableAnalysisCommands":!0,"explorerDates.enableExportReporting":!0,"explorerDates.enableExtensionApi":!0,"explorerDates.enableWorkspaceTemplates":!0,"explorerDates.enableAdvancedCache":!0,"explorerDates.enableWorkspaceIntelligence":!0,"explorerDates.enableIncrementalWorkers":!0,"explorerDates.persistentCache":!0,"explorerDates.smartExclusions":!0},targetScenarios:["Team lead workflows","Analytics and reporting needs","API integration requirements","Full workspace intelligence"]},"data-science":{id:"data-science",name:"Data Science",description:"Optimized for data workflows (~280KB)",targetBundleSize:y+c.onboarding+c.analysisCommands+c.exportReporting+c.workspaceIntelligence+c.advancedCache,settings:{"explorerDates.enableOnboardingSystem":!0,"explorerDates.enableAnalysisCommands":!0,"explorerDates.enableExportReporting":!0,"explorerDates.enableExtensionApi":!1,"explorerDates.enableWorkspaceTemplates":!1,"explorerDates.enableAdvancedCache":!0,"explorerDates.enableWorkspaceIntelligence":!0,"explorerDates.enableIncrementalWorkers":!1,"explorerDates.dateDecorationFormat":"iso-detailed"},targetScenarios:["Jupyter notebooks","Python data analysis","Research workflows"]}},ke=new Set(["enableOnboardingSystem","enableAnalysisCommands","enableExportReporting","enableExtensionApi","enableWorkspaceTemplates","enableAdvancedCache","enableWorkspaceIntelligence","enableIncrementalWorkers","performanceMode","smartFileWatching"]);function xe(n){let e=y;return n["explorerDates.enableOnboardingSystem"]&&(e+=c.onboarding),n["explorerDates.enableAnalysisCommands"]&&(e+=c.analysisCommands),n["explorerDates.enableExportReporting"]&&(e+=c.exportReporting),n["explorerDates.enableExtensionApi"]&&(e+=c.extensionApi),n["explorerDates.enableWorkspaceTemplates"]&&(e+=c.workspaceTemplates),n["explorerDates.enableAdvancedCache"]&&(e+=c.advancedCache),n["explorerDates.enableWorkspaceIntelligence"]&&(e+=c.workspaceIntelligence),n["explorerDates.enableIncrementalWorkers"]&&(e+=c.incrementalWorkers),e}function De(n){switch(n){case"minimal":case"extreme":return b.minimal;case"balanced":return b.balanced;case"web-development":return b["web-development"];case"data-science":return b["data-science"];case"enterprise":return b.enterprise;default:return b.balanced}}K.exports={PRESET_DEFINITIONS:b,CHUNK_SIZES:c,BASE_BUNDLE_SIZE:y,RESTART_REQUIRED_SETTINGS:ke,calculateBundleSize:xe,getDefaultPresetForProfile:De}});var G=p((Ve,B)=>{var L={onboarding:"src/chunks/onboarding-chunk",onboardingAssets:"src/chunks/onboarding-assets-chunk",reporting:"src/chunks/reporting-chunk",templates:"src/chunks/templates-chunk",analysis:"src/chunks/analysis-chunk",diagnostics:"src/chunks/diagnostics-chunk",extensionApi:"src/chunks/extension-api-chunk",advancedCache:"src/chunks/advancedCache-chunk",batchProcessor:"src/chunks/batchProcessor-chunk",workspaceIntelligence:"src/chunks/workspaceIntelligence",incrementalWorkers:"src/chunks/incrementalWorkers",uiAdapters:"src/chunks/ui-adapters",gitInsights:"src/chunks/gitInsights-chunk",smartWatcherFallback:"src/chunks/smartWatcherFallback-chunk"};function Le(n){return L[n]||null}function Ce(){return Object.keys(L)}function Se(n){let e={};for(let[t,r]of Object.entries(L))e[t]=()=>n(`./${r}`);return e}B.exports={CHUNK_MAP:L,getChunkSourcePath:Le,getAllChunkNames:Ce,generateDevLoaderMap:Se}});var H=p((exports,module)=>{var{getLogger}=w(),{CHUNK_SIZES}=$(),{getChunkSourcePath,getAllChunkNames}=G(),featureLogger=null,DEFAULT_CHUNK_TIMEOUT_MS=Number(process.env.EXPLORER_DATES_CHUNK_TIMEOUT||5e3),NETWORK_ERROR_CODES=new Set(["ENOTFOUND","ECONNRESET","ECONNREFUSED","EAI_AGAIN","ETIMEDOUT","EHOSTUNREACH"]),BUILT_CHUNK_CACHE=new Map,CHUNK_METHOD_ALIASES={reporting:"exportReporting",templates:"workspaceTemplates",analysis:"analysisCommands"},DEV_CHUNK_PATH_CACHE=new Map;function getDevChunkImportPath(n){if(DEV_CHUNK_PATH_CACHE.has(n))return DEV_CHUNK_PATH_CACHE.get(n);let e=getChunkSourcePath(n);if(!e)return DEV_CHUNK_PATH_CACHE.set(n,null),null;let t=e;return t.startsWith("src/")&&(t=t.slice(4)),t.startsWith("./")||(t=`./${t}`),DEV_CHUNK_PATH_CACHE.set(n,t),t}function resolveNodeDependencies(){if(nativeDepsResolved)return!!(nativePath&&nativeFs);if(nativeDepsResolved=!0,!isNodeLikeRuntime())return!1;try{nativePath=eval("require")("path"),nativeFs=eval("require")("fs")}catch{nativePath=null,nativeFs=null}return!!(nativePath&&nativeFs)}var nativeDepsResolved=!1,nativePath=null,nativeFs=null;function isWebRuntime(){try{return typeof navigator<"u"&&navigator?.userAgent?navigator.userAgent.includes("vscode-web")||navigator.userAgent.includes("Code - Web"):typeof process<"u"&&process?.env?.VSCODE_WEB==="true"}catch{return!1}}function isNodeLikeRuntime(){return typeof process<"u"&&!!process.versions?.node&&!isWebRuntime()}function getChunkTimeoutMs(){return DEFAULT_CHUNK_TIMEOUT_MS>0?DEFAULT_CHUNK_TIMEOUT_MS:0}function logFeature(n,e,t){featureLogger||(featureLogger=getLogger());let r=featureLogger;typeof r[n]=="function"?r[n](e,t):r.info(e,t)}function logFeatureDisabled(n,e){logFeature("info","Feature disabled via configuration",{feature:n,savedKB:e&&CHUNK_SIZES[e]!==void 0?CHUNK_SIZES[e]:void 0})}function isLikelyNetworkIssue(n){if(!n)return!1;if(n.code&&NETWORK_ERROR_CODES.has(n.code))return!0;let e=(n.message||"").toLowerCase();return e.includes("network")||e.includes("fetch")||e.includes("timed out")}function runWithChunkTimeout(n,e){let t=getChunkTimeoutMs(),r=()=>{try{return Promise.resolve(n())}catch(s){return Promise.reject(s)}};return t?new Promise((s,i)=>{let o=!1,a=setTimeout(()=>{if(o)return;o=!0;let l=new Error(`Chunk "${e}" load timed out after ${t}ms`);l.code="CHUNK_TIMEOUT",i(l)},t);r().then(l=>{o||(o=!0,clearTimeout(a),s(l))}).catch(l=>{o||(o=!0,clearTimeout(a),i(l))})}):r()}function logResolverFailure(n,e){if(!e)return;let t={chunkName:n,error:e.message,code:e.code,networkIssue:isLikelyNetworkIssue(e),timedOut:e.code==="CHUNK_TIMEOUT"},r=t.networkIssue||t.timedOut?"warn":"error";logFeature(r,"Chunk resolver failed",t)}function tryLoadBuiltChunk(n){if(!n||!resolveNodeDependencies()||typeof nativeFs?.existsSync!="function")return null;if(BUILT_CHUNK_CACHE.has(n))return BUILT_CHUNK_CACHE.get(n);let e=[];typeof __dirname=="string"&&nativePath&&(e.push(nativePath.join(__dirname,"chunks",`${n}.js`)),e.push(nativePath.join(__dirname,"..","dist","chunks",`${n}.js`)));for(let t of e)try{if(!t||!nativeFs.existsSync(t))continue;let r=require(t),s=r?.default||r;return BUILT_CHUNK_CACHE.set(n,s||null),s&&logFeature("info","Loaded chunk via built artifact fallback",{chunkName:n,path:t}),s}catch(r){logFeature("warn","Built chunk fallback failed",{chunkName:n,path:t,error:r.message})}return BUILT_CHUNK_CACHE.set(n,null),null}function tryRequireDevChunk(n){if(isWebRuntime())return null;let e=getDevChunkImportPath(n);if(!e)return null;try{let t=require(e);return t?.default||t}catch(t){(t.code!=="MODULE_NOT_FOUND"||typeof t.message=="string"&&!t.message.includes(e))&&logFeature("debug","Dev chunk require failed",{chunkName:n,importPath:e,error:t.message})}return null}function tryRequireLocalBuiltChunk(n){if(isWebRuntime())return null;let e=`./chunks/${n}`;try{let t=require(e);return t?.default||t}catch(t){t.code==="MODULE_NOT_FOUND"||logFeature("debug","Local chunk require failed",{chunkName:n,importPath:e,error:t.message})}return null}function getSavingsKey(n){return n in CHUNK_SIZES?n:CHUNK_METHOD_ALIASES[n]||null}function announceChunkSavings(n){let e=getSavingsKey(n);if(!e)return;let t=CHUNK_SIZES[e];if(!t)return;let s=`\u{1F4BE} ${e===n||!n?e:`${e} (requested as "${n}")`} chunk unavailable - keeping the feature disabled is saving ~${t}KB`;logFeature("info","Chunk savings applied",{chunkName:e,requestedName:n,savedKB:t})}var getFeatureConfig=()=>{try{let e=require("vscode").workspace.getConfiguration("explorerDates");return{enableOnboarding:e.get("enableOnboardingSystem",!0),enableExportReporting:e.get("enableExportReporting",!0),enableWorkspaceTemplates:e.get("enableWorkspaceTemplates",!0),enableAnalysisCommands:e.get("enableAnalysisCommands",!0),enableAdvancedCache:e.get("enableAdvancedCache",!0),enableWorkspaceIntelligence:e.get("enableWorkspaceIntelligence",!0),enableIncrementalWorkers:e.get("enableIncrementalWorkers",!1),enableExtensionApi:e.get("enableExtensionApi",!0)}}catch{return{enableOnboarding:!0,enableExportReporting:!0,enableWorkspaceTemplates:!0,enableAnalysisCommands:!0,enableAdvancedCache:!0,enableWorkspaceIntelligence:!0,enableIncrementalWorkers:!1,enableExtensionApi:!0}}},featureLoaders=new Map,chunkResolver=null;function setFeatureChunkResolver(n){if(n&&typeof n!="function")throw new Error("Feature chunk resolver must be a function");chunkResolver=n||null}function registerFeatureLoader(n,e){if(typeof e!="function")throw new Error(`Feature loader for "${n}" must be a function`);featureLoaders.set(n,e)}function unregisterFeatureLoader(n){featureLoaders.delete(n)}function clearFeatureLoaders(){featureLoaders.clear()}async function loadFeatureModule(n){let e=featureLoaders.get(n);if(!e&&chunkResolver&&(e=()=>chunkResolver(n)),!e)return logFeature("warn","No loader registered for feature",{feature:n}),null;try{return await runWithChunkTimeout(()=>e(),n)}catch(t){return logFeature("warn","Feature loader failed",{feature:n,error:t.message,code:t.code,networkIssue:isLikelyNetworkIssue(t)}),announceChunkSavings(n),null}}function registerDefaultLoaders(){getAllChunkNames().forEach(e=>{featureLoaders.has(e)||registerFeatureLoader(e,createDefaultLoader(e))})}function createDefaultLoader(n){return async()=>{if(chunkResolver&&typeof chunkResolver=="function")try{let s=await runWithChunkTimeout(()=>chunkResolver(n),n);if(s)return s;logFeature("info","Chunk resolver returned no module",{chunkName:n})}catch(s){logResolverFailure(n,s)}let e=tryRequireDevChunk(n);if(e)return e;let t=tryRequireLocalBuiltChunk(n);if(t)return t;let r=tryLoadBuiltChunk(n);return r||(logFeature("warn","No built artifact available for chunk",{chunkName:n}),null)}}var featureFlags={async onboarding(){return getFeatureConfig().enableOnboarding?loadFeatureModule("onboarding"):(logFeatureDisabled("onboarding","onboarding"),null)},async exportReporting(){return getFeatureConfig().enableExportReporting?loadFeatureModule("reporting"):(logFeatureDisabled("exportReporting","exportReporting"),null)},async workspaceTemplates(){return getFeatureConfig().enableWorkspaceTemplates?loadFeatureModule("templates"):(logFeatureDisabled("workspaceTemplates","workspaceTemplates"),null)},async analysisCommands(){return getFeatureConfig().enableAnalysisCommands?loadFeatureModule("analysis"):(logFeatureDisabled("analysisCommands","analysisCommands"),null)},async advancedCache(){return getFeatureConfig().enableAdvancedCache?loadFeatureModule("advancedCache"):(logFeatureDisabled("advancedCache","advancedCache"),null)},async workspaceIntelligence(){return getFeatureConfig().enableWorkspaceIntelligence?loadFeatureModule("workspaceIntelligence"):(logFeatureDisabled("workspaceIntelligence","workspaceIntelligence"),null)},async incrementalWorkers(){return getFeatureConfig().enableIncrementalWorkers?loadFeatureModule("incrementalWorkers"):(logFeatureDisabled("incrementalWorkers","incrementalWorkers"),null)},async extensionApi(){return getFeatureConfig().enableExtensionApi?loadFeatureModule("extensionApi"):(logFeatureDisabled("extensionApi","extensionApi"),null)},async uiAdapters(){return loadFeatureModule("uiAdapters")},async batchProcessor(){return loadFeatureModule("batchProcessor")},async gitInsights(){return loadFeatureModule("gitInsights")},isEnabled(n){let e=getFeatureConfig();return{onboarding:e.enableOnboarding,exportReporting:e.enableExportReporting,workspaceTemplates:e.enableWorkspaceTemplates,analysisCommands:e.enableAnalysisCommands,advancedCache:e.enableAdvancedCache,workspaceIntelligence:e.enableWorkspaceIntelligence,incrementalWorkers:e.enableIncrementalWorkers,extensionApi:e.enableExtensionApi}[n]??!0},getEnabledFeatures(){let n=getFeatureConfig(),e=[];return n.enableOnboarding&&e.push("onboarding"),n.enableExportReporting&&e.push("exportReporting"),n.enableWorkspaceTemplates&&e.push("workspaceTemplates"),n.enableAnalysisCommands&&e.push("analysisCommands"),n.enableAdvancedCache&&e.push("advancedCache"),n.enableWorkspaceIntelligence&&e.push("workspaceIntelligence"),n.enableIncrementalWorkers&&e.push("incrementalWorkers"),n.enableExtensionApi&&e.push("extensionApi"),e},calculateSavings(){let n=getFeatureConfig(),e=0;return n.enableOnboarding||(e+=34),n.enableExportReporting||(e+=17),n.enableExtensionApi||(e+=15),n.enableWorkspaceTemplates||(e+=14),n.enableWorkspaceIntelligence||(e+=12),n.enableAnalysisCommands||(e+=8),n.enableAdvancedCache||(e+=5),e}};for(let[n,e]of Object.entries(CHUNK_METHOD_ALIASES))!featureFlags[n]&&typeof featureFlags[e]=="function"&&(featureFlags[n]=(...t)=>featureFlags[e](...t));function calculateSavings(n){n||(n=getFeatureConfig());let e=267,t=0;n.enableOnboarding||(t+=34),n.enableExportReporting||(t+=17),n.enableExtensionApi||(t+=15),n.enableWorkspaceTemplates||(t+=14),n.enableWorkspaceIntelligence||(t+=12),n.enableIncrementalWorkers||(t+=19),n.enableAnalysisCommands||(t+=8),n.enableAdvancedCache||(t+=5);let r=e-t,s=t>0?Math.round(t/e*100):0;return{baseSize:`${e}KB`,totalSavings:`${t}KB`,optimizedSize:`${r}KB`,percentage:s}}registerDefaultLoaders();module.exports={...featureFlags,getFeatureConfig,calculateSavings,registerFeatureLoader,setFeatureChunkResolver,unregisterFeatureLoader,clearFeatureLoaders,loadFeatureModule,registerDefaultLoaders}});var V=p((Ye,q)=>{var{getLogger:ve}=w(),{normalizePath:C,getUriPath:F}=D(),{isDateLike:_e,ensureDate:j}=_(),O=class{constructor(e){this.C=e,this.e=ve(),this.h=null,this.o=new Map,this.p=null,this.n=null,this.a=!1,this.u=null,this.w=new Set,this.g=new Map,this.i=null,this.K=6e4}initialize(e={}){this.h=e.batchProcessor||null,this.a=e.enableProgressiveAnalysis||!1,this.p&&(this.p.dispose(),this.p=null),this.n&&(this.n.dispose(),this.n=null)}async startInitialIndex(e,t={}){if(!this.h||!Array.isArray(e)||e.length===0)return;this.O("restart"),this.u=new AbortController;let r=t.maxFiles||2e3;e.forEach(s=>{let i=this.h.processDirectoryProgressively(s.uri,async o=>this.I(o,{source:"initial"}),{background:!0,priority:"low",maxFiles:r,cancellationToken:this.u.signal});i&&this.w.add(i)}),this.e.info(`Incremental indexer scheduled initial scan for ${e.length} workspace folder(s).`)}O(e="unspecified"){if(this.u&&!this.u.signal.aborted&&this.u.abort(),this.u=null,this.h&&this.w.size)for(let t of this.w)this.h.cancelBatch(t);this.w.clear(),e!=="unspecified"&&this.e.debug(`Incremental indexer cancelled initial scan (${e})`)}async I(e,t={}){try{let r=await this.C.stat(e);await this.A(e,r,t)}catch(r){this.e.debug("Incremental indexer failed to stat URI",{error:r?.message,uri:e?.toString?.()})}}async A(e,t,r={}){let s=F(e);if(!s)return;let i=C(s);if(!i)return;let o={path:i,size:t?.size||0,mtimeMs:this.T(t?.mtime),birthtimeMs:this.T(t?.birthtime||t?.ctime||t?.mtime),indexedAt:Date.now(),digest:null,context:r};if(this.a||this.p){let a=this.p||await this.R();if(a?.isEnabled())try{let[l]=await a.runTask("digest",[o]);o.digest=l?.hash||null,o.sizeBucket=l?.sizeBucket,o.ageBucket=l?.ageBucket}catch(l){this.e.debug("Incremental index worker error",l)}}this.o.set(i,o)}getIndexedStat(e,t=this.K){if(!e)return null;let r=C(e),s=this.o.get(r);return!s||Date.now()-(s.indexedAt||0)>t?null:{size:s.size||0,mtime:j(s.mtimeMs||Date.now()),birthtime:j(s.birthtimeMs||s.mtimeMs||Date.now()),isFile:()=>!0}}queueDelta(e,t="change"){if(!e)return;let r=e.toString();this.g.set(r,{uri:e,eventType:t}),this.i||(this.i=setTimeout(()=>this.$(),300))}async $(){this.i&&(clearTimeout(this.i),this.i=null);let e=Array.from(this.g.values());this.g.clear();for(let{uri:t,eventType:r}of e){if(r==="delete"){let s=C(F(t));s&&this.o.delete(s);continue}await this.I(t,{source:"delta",eventType:r})}}primeFromStat(e,t){!e||!t||this.A(e,t,{source:"prime"}).catch(r=>{this.e.debug("Failed to prime index from stat",r)})}async R(){if(!this.a)return null;if(!this.n)try{let{loadFeatureModule:e}=H(),t=await e("incrementalWorkers");if(t){let{IncrementalWorkersManager:r}=t;this.n=new r({logger:this.e}),await this.n.initialize(),this.e.info("\u{1F4E6} Incremental workers chunk loaded on demand (~8-10KB)")}else return this.e.warn("Failed to load incremental workers chunk"),null}catch(e){return this.e.error("Failed to load incremental workers manager",e),null}return this.n.getWorkerHost()}async enableProgressiveAnalysis(){return this.a||(this.a=!0,this.e.debug("Progressive analysis enabled, workers will be loaded on demand")),this.R()}disableProgressiveAnalysis(){this.a=!1,this.n&&(this.n.dispose(),this.n=null,this.e.debug("Progressive analysis disabled, worker resources disposed"))}getMetrics(){return{entries:this.o.size,workerEnabled:!!this.n?.isWorkerEnabled(),progressiveAnalysisEnabled:this.a,deltaQueue:this.g.size}}removeFoldersFromIndex(e=[]){if(!Array.isArray(e)||e.length===0)return 0;let t=e.map(s=>C(F(s))).filter(Boolean);if(!t.length)return 0;let r=0;for(let s of Array.from(this.o.keys()))t.some(i=>s===i||s.startsWith(`${i}/`))&&(this.o.delete(s),r++);return r>0&&this.e.debug(`Incremental indexer pruned ${r} entr${r===1?"y":"ies"} for removed workspace folder(s).`),r}T(e){if(!e)return Date.now();if(typeof e=="number")return e;if(_e(e))return e.getTime();if(typeof e=="string"){let t=Date.parse(e);return Number.isFinite(t)?t:Date.now()}return typeof e.getTime=="function"?e.getTime():Date.now()}dispose(){this.O("dispose"),this.i&&(clearTimeout(this.i),this.i=null),this.g.clear(),this.n&&(this.n.dispose(),this.n=null),this.o.clear()}};q.exports={IncrementalIndexer:O}});var J=p((Ze,Z)=>{var Y=require("vscode");function Fe(){try{return Y?.env?.uiKind===Y?.UIKind?.Web}catch{return!1}}Z.exports={isWebEnvironment:Fe}});var Q=p((Je,X)=>{var I=class extends Error{constructor(e,t,r={}){super(t),this.code=e,this.context=r,this.name="ExtensionError"}},Oe={FILE_PERMISSION_DENIED:"FILE_PERMISSION_DENIED",WORKSPACE_TOO_LARGE:"WORKSPACE_TOO_LARGE",CHUNK_LOAD_FAILED:"CHUNK_LOAD_FAILED"};function Ie(n){if(!n)return!1;let e=n.code||n?.name;return["EACCES","EPERM","EROFS","NoPermissions"].includes(e)}X.exports={ExtensionError:I,ERROR_CODES:Oe,isPermissionError:Ie}});var ne=p((Xe,te)=>{var u=require("vscode"),{isWebEnvironment:Ae}=J(),{normalizePath:Te}=D(),{ExtensionError:Re,ERROR_CODES:Pe,isPermissionError:We}=Q(),{ensureDate:A}=_(),ee=process.env.VSCODE_WEB==="true",Me=process.env.EXPLORER_DATES_FORCE_VSCODE_FS==="1",f=null;if(!ee&&!Me)try{f=require("fs").promises}catch{f=null}var S=class{constructor(){this.isWeb=ee||Ae()}l(e){if(!e)return"";if(typeof e=="string")return e;if(e&&typeof e=="object"&&typeof e.fsPath=="string")return e.fsPath;if(e&&typeof e=="object"&&typeof e.path=="string")return e.path;if(typeof e=="object"){if(typeof e.fsPath=="string")return e.fsPath;if(typeof e.path=="string")return e.path}return String(e)}c(e){if(e&&typeof e=="object"&&typeof e.scheme=="string"&&typeof e.path=="string")return e;if(typeof e=="string")return u.Uri.file(e);if(e&&typeof e=="object"){if(e.uri&&e.uri!==e)try{return this.c(e.uri)}catch{}if(typeof e.fsPath=="string"&&e.fsPath.length>0)return u.Uri.file(e.fsPath);if(typeof e.path=="string"&&e.path.length>0)return u.Uri.file(e.path);if(typeof e.href=="string"&&e.href.length>0)return u.Uri.parse(e.href);if(typeof e.scheme=="string")return u.Uri.from({scheme:e.scheme,authority:e.authority||"",path:e.path||e.fsPath||"",query:e.query||"",fragment:e.fragment||""});if(typeof e.toString=="function")try{let t=e.toString(!0);if(t&&t!=="[object Object]")return u.Uri.parse(t)}catch{let t=e.toString();if(t&&t!=="[object Object]")return u.Uri.parse(t)}}throw new Error(`Unsupported target type: ${typeof e}`)}async stat(e){if(!this.isWeb&&f)return f.stat(this.l(e));let t=this.c(e),r=await u.workspace.fs.stat(t);return{...r,mtime:A(r.mtime),ctime:A(r.ctime),birthtime:A(r.ctime),isFile:()=>r.type===u.FileType.File,isDirectory:()=>r.type===u.FileType.Directory}}async readFile(e,t="utf8"){if(!this.isWeb&&f)return f.readFile(this.l(e),t);let r=this.c(e),s=await u.workspace.fs.readFile(r);return t===null||t==="binary"?s:new TextDecoder(t).decode(s)}async writeFile(e,t,r="utf8"){let s=this.l(e);try{if(!this.isWeb&&f)return f.writeFile(s,t,r);let i=this.c(e),o=typeof t=="string"?new TextEncoder().encode(t):t;await u.workspace.fs.writeFile(i,o)}catch(i){this.P("write file",s,i)}}async mkdir(e,t={recursive:!0}){let r=this.l(e);try{if(!this.isWeb&&f)return f.mkdir(r,t);let s=this.c(e);await u.workspace.fs.createDirectory(s)}catch(s){this.P("create directory",r,s)}}async readdir(e,t={withFileTypes:!1}){if(!this.isWeb&&f)return f.readdir(this.l(e),t);let r=this.c(e),s=await u.workspace.fs.readDirectory(r);return t.withFileTypes?s.map(([i,o])=>({name:i,isDirectory:()=>o===u.FileType.Directory,isFile:()=>o===u.FileType.File})):s.map(([i])=>i)}async delete(e,t={recursive:!1}){if(!this.isWeb&&f){let s=this.l(e);return t.recursive?f.rm?f.rm(s,t):f.rmdir(s,t):f.unlink(s)}let r=this.c(e);await u.workspace.fs.delete(r,t)}async exists(e){try{return await this.stat(e),!0}catch{return!1}}async ensureDirectory(e){let t=Te(this.l(e));await this.mkdir(t,{recursive:!0})}P(e,t,r){throw We(r)?new Re(Pe.FILE_PERMISSION_DENIED,`Permission denied while attempting to ${e}`,{path:t,code:r.code}):r}},Ue=new S;te.exports={FileSystemAdapter:S,fileSystem:Ue}});var se=p((Qe,re)=>{var d=require("vscode"),{getLogger:ze}=w(),{fileSystem:Ne}=ne(),{normalizePath:T,getRelativePath:Ke,getFileName:$e}=D(),R=class{constructor(){this.e=ze(),this.k=Ne,this.B=["node_modules",".npm",".yarn","coverage","nyc_output","dist","build","out","target","bin","obj",".vscode",".idea",".vs",".vscode-test",".git",".svn",".hg",".bzr",".pnpm-store","bower_components","jspm_packages","tmp","temp",".tmp",".cache",".parcel-cache",".DS_Store","Thumbs.db","__pycache__",".pytest_cache",".tox","venv",".env",".virtualenv","vendor",".docker","logs","*.log"],this.J=new Map,this.G=new Map,this.e.info("SmartExclusionManager initialized")}async cleanupAllWorkspaceProfiles(){let e=d.workspace.getConfiguration("explorerDates"),t=e.get("workspaceExclusionProfiles",{})||{},r=!1;for(let[s,i]of Object.entries(t)){let o=Array.isArray(i)?i:[],a=this.m(o);this.W(o,a)||(t[s]=a,r=!0,this.e.debug(`Deduped workspace exclusions for ${s}`,{before:o.length,after:a.length}))}r?(await e.update("workspaceExclusionProfiles",t,d.ConfigurationTarget.Global),this.e.info("Cleaned up duplicate workspace exclusions",{workspaceCount:Object.keys(t).length})):this.e.debug("Workspace exclusion profiles already clean")}async analyzeWorkspace(e){try{let t=T(e?.fsPath||e?.path||""),r={detectedPatterns:[],suggestedExclusions:[],projectType:"unknown",riskFolders:[]};r.projectType=await this.H(e);let s=await this.j(e,t),i=this.q(s,r.projectType);return r.detectedPatterns=s,r.suggestedExclusions=i.filter(o=>o.score>.7).map(o=>o.pattern),r.riskFolders=i.filter(o=>o.riskLevel==="high").map(o=>o.pattern),this.G.set(t,r),this.e.info(`Workspace analysis complete for ${t}`,r),r}catch(t){return this.e.error("Failed to analyze workspace",t),null}}async H(e){let t=[{file:"package.json",type:"javascript"},{file:"pom.xml",type:"java"},{file:"Cargo.toml",type:"rust"},{file:"setup.py",type:"python"},{file:"requirements.txt",type:"python"},{file:"Gemfile",type:"ruby"},{file:"composer.json",type:"php"},{file:"go.mod",type:"go"},{file:"CMakeLists.txt",type:"cpp"},{file:"Dockerfile",type:"docker"}];if(!e)return"unknown";for(let r of t)try{let s=d.Uri.joinPath(e,r.file);if(await this.k.exists(s))return r.type}catch{}return"unknown"}async j(e,t,r=2){let s=[],i=async(o,a=0)=>{if(!(a>r))try{let l=await this.k.readdir(o,{withFileTypes:!0});for(let h of l)if(h.isDirectory()){let g=d.Uri.joinPath(o,h.name),v=T(g.fsPath||g.path),k=Ke(t,v);this.B.includes(h.name)&&s.push({name:h.name,path:k,type:"common",size:await this.M(g)});let x=await this.M(g);x>10485760&&s.push({name:h.name,path:k,type:"large",size:x}),await i(g,a+1)}}catch{}};return await i(e),s}async M(e){try{let t=await this.k.readdir(e,{withFileTypes:!0}),r=0,s=0;for(let i of t){if(s>100)break;if(i.isFile())try{let o=d.Uri.joinPath(e,i.name),a=await this.k.stat(o);r+=a.size,s++}catch{}}return r}catch{return 0}}q(e,t){return e.map(r=>{let s=0,i="low";switch(r.type==="common"&&(s+=.8),r.size>100*1024*1024?(s+=.9,i="high"):r.size>10*1024*1024&&(s+=.5,i="medium"),t){case"javascript":["node_modules",".npm","coverage","dist","build"].includes(r.name)&&(s+=.9);break;case"python":["__pycache__",".pytest_cache","venv",".env"].includes(r.name)&&(s+=.9);break;case"java":["target","build",".gradle"].includes(r.name)&&(s+=.9);break}return["src","lib","app","components","pages"].includes(r.name.toLowerCase())&&(s=0,i="none"),{pattern:r.name,path:r.path,score:Math.min(s,1),riskLevel:i,size:r.size,type:r.type}})}async getWorkspaceExclusions(e){let t=d.workspace.getConfiguration("explorerDates"),r=t.get("workspaceExclusionProfiles",{}),s=this.S(e),i=r[s]||[],o=this.m(i);if(o.length!==i.length){r[s]=o;try{await t.update("workspaceExclusionProfiles",r,d.ConfigurationTarget.Global),this.e.info(`Cleaned duplicate exclusions for ${s}`,{before:i.length,after:o.length})}catch(a){this.e.warn(`Failed to persist cleaned exclusions for ${s}`,a)}}return o}async saveWorkspaceExclusions(e,t){let r=d.workspace.getConfiguration("explorerDates"),s=r.get("workspaceExclusionProfiles",{}),i=this.S(e),o=this.m(t);if(Array.isArray(s[i])?this.W(s[i],o):!1){this.e.debug(`No workspace exclusion changes for ${i}`);return}s[i]=o,await r.update("workspaceExclusionProfiles",s,d.ConfigurationTarget.Global),this.e.info(`Saved workspace exclusions for ${i}`,o)}async getCombinedExclusions(e){let t=d.workspace.getConfiguration("explorerDates"),r=t.get("excludedFolders",[]),s=t.get("excludedPatterns",[]),i=t.get("smartExclusions",!0),o=[...r],a=[...s],l=await this.getWorkspaceExclusions(e);if(o.push(...l),i){let h=await this.analyzeWorkspace(e);h&&o.push(...h.suggestedExclusions)}return o=[...new Set(o)],a=[...new Set(a)],{folders:o,patterns:a}}S(e){if(!e)return"unknown-workspace";let t=e.fsPath||e.path||"";return $e(t)||T(t)}async suggestExclusions(e){let t=await this.analyzeWorkspace(e),r=this.m(t?.suggestedExclusions||[]);if(!t||r.length===0)return;let s=await this.getWorkspaceExclusions(e),i=r.filter(h=>!s.includes(h));if(i.length===0){this.e.debug("No new smart exclusions detected",{workspace:this.S(e)});return}let o=this.V(s,i);await this.saveWorkspaceExclusions(e,o);let a=i.length===1?`Explorer Dates automatically excluded "${i[0]}" to keep Explorer responsive.`:`Explorer Dates automatically excluded ${i.length} folders to keep Explorer responsive.`,l=await d.window.showInformationMessage(`${a} Keep these exclusions?`,"Keep","Review","Revert");l==="Revert"?(await this.saveWorkspaceExclusions(e,s),d.window.showInformationMessage("Smart exclusions reverted. Decorations will refresh for the restored folders."),this.e.info("User reverted smart exclusions",{reverted:i})):l==="Review"?(this.Y(t),this.e.info("User reviewing smart exclusions",{pending:i})):this.e.info("User kept smart exclusions",{accepted:i})}m(e=[]){return Array.from(new Set(e.filter(Boolean)))}V(e=[],t=[]){return this.m([...e||[],...t||[]])}W(e=[],t=[]){return e.length!==t.length?!1:e.every((r,s)=>r===t[s])}Y(e){let t=d.window.createWebviewPanel("exclusionReview","Smart Exclusion Review",d.ViewColumn.One,{enableScripts:!0});t.webview.html=this.Z(e)}Z(e){let t=s=>{if(s<1024)return`${s} B`;let i=s/1024;return i<1024?`${i.toFixed(1)} KB`:`${(i/1024).toFixed(1)} MB`},r=e.detectedPatterns.map(s=>`
            <tr>
                <td>${s.name}</td>
                <td>${s.path}</td>
                <td>${t(s.size)}</td>
                <td>${s.type}</td>
                <td>
                    <input type="checkbox" ${e.suggestedExclusions.includes(s.name)?"checked":""}>
                </td>
            </tr>
        `).join("");return`
            <!DOCTYPE html>
            <html>
            <head>
                <meta charset="UTF-8">
                <title>Smart Exclusion Review</title>
                <style>
                    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; padding: 20px; }
                    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                    th, td { padding: 8px 12px; text-align: left; border-bottom: 1px solid #333; }
                    th { background-color: var(--vscode-editor-background); font-weight: bold; }
                    .project-info { background: var(--vscode-editor-background); padding: 15px; border-radius: 4px; margin-bottom: 20px; }
                </style>
            </head>
            <body>
                <h1>\u{1F9E0} Smart Exclusion Review</h1>
                <div class="project-info">
                    <strong>Project Type:</strong> ${e.projectType}<br>
                    <strong>Detected Patterns:</strong> ${e.detectedPatterns.length}<br>
                    <strong>Suggested Exclusions:</strong> ${e.suggestedExclusions.length}
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Folder</th>
                            <th>Path</th>
                            <th>Size</th>
                            <th>Type</th>
                            <th>Exclude</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${r}
                    </tbody>
                </table>
            </body>
            </html>
        `}};re.exports={SmartExclusionManager:R}});var{IncrementalIndexer:ie}=V(),{SmartExclusionManager:oe}=se(),{getLogger:Be}=w(),P=class{constructor(e){this.C=e,this.e=Be(),this.r=null,this.t=null,this.b=!1}async initialize(e={}){if(this.b)return;let{batchProcessor:t,enableProgressiveAnalysis:r}=e;this.r||(this.r=new ie(this.C)),this.r.initialize({batchProcessor:t,enableProgressiveAnalysis:r}),this.t||(this.t=new oe),this.b=!0,this.e.info("Workspace intelligence components initialized")}async analyzeWorkspace(e,t={}){if(!(!this.b||!e?.length))try{if(this.r&&(await this.r.startInitialIndex(e,{maxFiles:t.maxFiles||2e3}),this.e.info("Workspace indexing started")),this.t)for(let r of e)try{await this.t.suggestExclusions(r.uri),this.e.info(`Smart exclusions analyzed for: ${r.name}`)}catch(s){this.e.error(`Failed to analyze smart exclusions for ${r.name}`,s)}}catch(r){this.e.error("Failed to analyze workspace",r)}}async cleanupWorkspaceProfiles(){if(this.t)try{await this.t.cleanupAllWorkspaceProfiles()}catch(e){this.e.warn("Failed to clean workspace exclusion profiles",e)}}async enableProgressiveAnalysis(){return this.r?this.r.enableProgressiveAnalysis():null}disableProgressiveAnalysis(){this.r&&this.r.disableProgressiveAnalysis()}getMetrics(){let e={};return this.r?.getMetrics&&(e.incrementalIndexer=this.r.getMetrics()),this.t?.getMetrics&&(e.smartExclusion=this.t.getMetrics()),e}async onWorkspaceFoldersChanged(e){if(this.b&&(e.added?.length&&await this.analyzeWorkspace(e.added),e.removed?.length&&this.t))for(let t of e.removed)try{await this.t.removeWorkspaceProfile(t.uri)}catch(r){this.e.warn(`Failed to remove workspace profile for ${t.name}`,r)}}shouldExclude(e){return this.t?this.t.shouldExclude(e):!1}getExclusionPatterns(e){return this.t?this.t.getExclusionPatterns(e):[]}dispose(){this.r?.dispose&&this.r.dispose(),this.t?.dispose&&this.t.dispose(),this.b=!1,this.e.debug("Workspace intelligence components disposed")}get incrementalIndexer(){return this.r}get smartExclusion(){return this.t}};module.exports={WorkspaceIntelligenceManager:P,IncrementalIndexer:ie,SmartExclusionManager:oe};
