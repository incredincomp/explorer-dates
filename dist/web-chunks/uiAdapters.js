var module = { exports: {} }; var exports = module.exports; (function() {
var m=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports);var L=m((exports,module)=>{var vscode=require("vscode"),isWebRuntime=process.env.VSCODE_WEB==="true",inspectValue=isWebRuntime?o=>{if(typeof o=="string")return o;try{return JSON.stringify(o,null,2)}catch{return"<<unable to serialize log arg>>"}}:eval("require")("util").inspect,DEFAULT_LOG_PROFILE="default",SUPPORTED_PROFILES=new Set(["default","stress","soak"]),LOG_LEVEL_ORDER=["debug","info","warn","error"],DEFAULT_CONSOLE_LEVEL="warn",TEST_CONSOLE_LEVEL=process.env.EXPLORER_DATES_TEST_MODE==="1"?"warn":null,Logger=class{constructor(){this.o=vscode.window.createOutputChannel("Explorer Dates"),this.c=!1,this.e=null,this.l=process.env.EXPLORER_DATES_TEST_MODE==="1",this.s=(process.env.EXPLORER_DATES_LOG_PROFILE||DEFAULT_LOG_PROFILE).toLowerCase(),SUPPORTED_PROFILES.has(this.s)||(this.s=DEFAULT_LOG_PROFILE),this.i=new Map,this.O=DEFAULT_CONSOLE_LEVEL,this.k(),this.e=vscode.workspace.onDidChangeConfiguration(e=>{(e.affectsConfiguration("explorerDates.enableLogging")||e.affectsConfiguration("explorerDates.consoleLogLevel"))&&this.k()})}k(){let e=vscode.workspace.getConfiguration("explorerDates");this.c=e.get("enableLogging",!1);let t=(process.env.EXPLORER_DATES_LOG_LEVEL||"").toLowerCase(),r=(e.get("consoleLogLevel",DEFAULT_CONSOLE_LEVEL)||"").toLowerCase(),n=TEST_CONSOLE_LEVEL||t||r||DEFAULT_CONSOLE_LEVEL;this.O=LOG_LEVEL_ORDER.includes(n)?n:DEFAULT_CONSOLE_LEVEL,TEST_CONSOLE_LEVEL&&(this.c=!1)}setLogProfile(e=DEFAULT_LOG_PROFILE){let t=(e||DEFAULT_LOG_PROFILE).toLowerCase();this.s=SUPPORTED_PROFILES.has(t)?t:DEFAULT_LOG_PROFILE,this.resetThrottle()}resetThrottle(e){if(e){this.i.delete(e);return}this.i.clear()}debug(e,...t){this.c&&this.u("debug",null,e,t)}info(e,...t){this.u("info",null,e,t)}infoWithOptions(e,t,...r){this.u("info",e||null,t,r)}warn(e,...t){this.u("warn",null,e,t)}error(e,t,...r){let i=`[${new Date().toISOString()}] [ERROR] ${e}`;this.l||(this.o.appendLine(i),t instanceof Error?(this.o.appendLine(`Error: ${t.message}`),t.stack&&this.o.appendLine(`Stack: ${t.stack}`)):t&&this.o.appendLine(this.C(t)));let a=this.S(r);a.length>0&&!this.l&&a.forEach(u=>this.o.appendLine(this.C(u)));let l=[];t!=null&&l.push(t),a.length>0&&l.push(...a),this.L("error",i,l)}show(){this.o.show()}clear(){this.o.clear()}dispose(){this.o.dispose(),this.e&&(this.e.dispose(),this.e=null);let e="__explorerDatesLogger";typeof global<"u"&&global[e]===this?global[e]=null:typeof globalThis<"u"&&globalThis[e]===this?globalThis[e]=null:typeof globalThis<"u"&&globalThis.window?.[e]===this&&(globalThis.window[e]=null),loggerInstance===this&&(loggerInstance=null)}u(e,t,r,n){if(e==="debug"&&!this.c||this.R(e,t))return;let a=`[${new Date().toISOString()}] [${e.toUpperCase()}] ${r}`;this.l||this.o.appendLine(a);let l=this.S(n);l.length>0&&!this.l&&l.forEach(u=>this.o.appendLine(this.C(u))),this.L(e,a,l)}S(e){return!e||e.length===0?[]:e.map(t=>{if(typeof t!="function")return t;try{return t()}catch(r){return`<<log arg threw: ${r.message}>>`}})}C(e){try{return typeof e=="string"?e:typeof e=="object"?JSON.stringify(e,null,2):inspectValue(e)}catch(t){return`<<failed to serialize log arg: ${t.message}>>`}}R(e,t){if(e!=="info"||!t||!t.throttleKey)return!1;let r=(t.profile||"stress").toLowerCase();if(!this.$(r))return!1;let n=Number(t.throttleLimit)||50,i=t.throttleKey,a=this.i.get(i)||{count:0,suppressed:0,noticeLogged:!1};if(a.count<n)return a.count+=1,this.i.set(i,a),!1;if(a.suppressed+=1,!a.noticeLogged){a.noticeLogged=!0;let l=`[${new Date().toISOString()}] [INFO] \u23F8\uFE0F Suppressing further logs for "${i}" after ${n} entries (profile=${this.s})`;this.o.appendLine(l),this.L("info",l)}return this.i.set(i,a),!0}$(e){let t=this.s||DEFAULT_LOG_PROFILE;return e==="default"?t===DEFAULT_LOG_PROFILE:t===e}M(e){let t=LOG_LEVEL_ORDER.indexOf(this.O),r=LOG_LEVEL_ORDER.indexOf(e);return t===-1||r===-1?!1:r>=t}L(e,t,r=[]){if(!this.M(e))return;(e==="warn"?console.warn:e==="error"?console.error:console.log).call(console,t,...r)}},GLOBAL_LOGGER_KEY="__explorerDatesLogger";function getLogger(){return typeof global<"u"?(global[GLOBAL_LOGGER_KEY]||(global[GLOBAL_LOGGER_KEY]=new Logger),global[GLOBAL_LOGGER_KEY]):typeof globalThis<"u"?(globalThis[GLOBAL_LOGGER_KEY]||(globalThis[GLOBAL_LOGGER_KEY]=new Logger),globalThis.window&&(globalThis.window[GLOBAL_LOGGER_KEY]=globalThis[GLOBAL_LOGGER_KEY]),globalThis[GLOBAL_LOGGER_KEY]):(loggerInstance||(loggerInstance=new Logger),loggerInstance)}var loggerInstance=null;module.exports={Logger,getLogger}});var A=m((Me,P)=>{var re="__explorerDatesVscode",g=null,T=null,b=!1;function ne(){try{return globalThis[re]}catch{return}}function j(){if(T)return T;let o={get:()=>{},async update(){},inspect:()=>({defaultValue:void 0,globalValue:void 0,workspaceValue:void 0,workspaceFolderValue:void 0})};return T={workspace:{workspaceFolders:[],getConfiguration:()=>o},ConfigurationTarget:{Global:1,Workspace:2,WorkspaceFolder:3}},T}var se=new Set(["MODULE_NOT_FOUND","ERR_MODULE_NOT_FOUND","WEB_NATIVE_MODULE"]);function ie(o){return!o||o.code&&se.has(o.code)?!0:(typeof o.message=="string"?o.message:"").includes("Cannot find module 'vscode'")}function w(){let o=ne();if(o)return g=F(o),b=!1,g;if(g&&!b)return g;try{g=F(require("vscode")),b=!1}catch(e){if(ie(e))g=F(j()),b=!0;else throw e}return g}var c=new Proxy({},{get(o,e){return w()[e]},set(o,e,t){return w()[e]=t,!0},has(o,e){return e in w()},ownKeys(){return Reflect.ownKeys(w())},getOwnPropertyDescriptor(o,e){let t=Object.getOwnPropertyDescriptor(w(),e);return t&&(t.configurable=!0),t}}),ae="explorerDates",N="__explorerDatesConfigWrapped";function K(o){return!o||typeof o!="object"?{get:()=>{},async update(){},inspect:()=>({defaultValue:void 0,globalValue:void 0,workspaceValue:void 0,workspaceFolderValue:void 0})}:(typeof o.get!="function"&&(o.get=()=>{}),typeof o.update!="function"&&(o.update=async()=>{}),typeof o.inspect!="function"&&(o.inspect=()=>({defaultValue:void 0,globalValue:void 0,workspaceValue:void 0,workspaceFolderValue:void 0})),o)}function F(o){if(!o)return j();o.ConfigurationTarget||(o.ConfigurationTarget={Global:1,Workspace:2,WorkspaceFolder:3}),o.workspace||(o.workspace={});let e=o.workspace.getConfiguration;if(typeof e=="function"&&!e[N]){let t=function(...r){let n=e.apply(this,r);return K(n)};t[N]=!0,o.workspace.getConfiguration=t}else typeof e!="function"&&(o.workspace.getConfiguration=()=>K());return Array.isArray(o.workspace.workspaceFolders)||(o.workspace.workspaceFolders=[]),o}var E=class{constructor(e={}){this.x=e.defaultSection||ae}getValue(e,t={}){let{section:r,resource:n}=t,i=this.T(e,r);return this.b(i.section,n).get(i.key)}inspect(e,t={}){let{section:r,resource:n}=t,i=this.T(e,r);return this.b(i.section,n).inspect(i.key)}async updateSetting(e,t,r={}){let{scope:n="auto",resource:i,section:a,force:l=!1}=r,u=this.T(e,a),h=this.b(u.section,i),V=this.I(n,i),ee=h.get(u.key),te=h.inspect(u.key),oe=this.G(te,V);return t!==void 0&&this.V(ee,t)&&!l&&oe!==void 0?{key:u.fullKey,updated:!1,reason:"unchanged"}:(await h.update(u.key,t,V),{key:u.fullKey,updated:!0})}async applySettings(e,t={}){let r=Array.isArray(e)?e:Object.entries(e).map(([i,a])=>({key:i,value:a})),n=[];for(let i of r){let a={...t,...i.options||{}};n.push(await this.updateSetting(i.key,i.value,a))}return n}async clearSetting(e,t={}){return this.updateSetting(e,void 0,t)}b(e,t){return c.workspace.getConfiguration(e||void 0,t)}T(e,t){let r=t||this.x;if(!r)return{section:void 0,key:e,fullKey:e};if(e.startsWith(`${r}.`)){let n=e.slice(r.length+1);return{section:r,key:n,fullKey:e}}return e.includes(".")?{section:void 0,key:e,fullKey:e}:{section:r,key:e,fullKey:`${r}.${e}`}}I(e,t){return e&&e!=="auto"?this.N(e)||c.ConfigurationTarget.Workspace:t?c.ConfigurationTarget.WorkspaceFolder:c.workspace.workspaceFolders&&c.workspace.workspaceFolders.length>0?c.ConfigurationTarget.Workspace:c.ConfigurationTarget.Global}N(e){switch(e){case"user":return c.ConfigurationTarget.Global;case"workspace":return c.ConfigurationTarget.Workspace;case"workspaceFolder":return c.ConfigurationTarget.WorkspaceFolder;default:return}}J(e){switch(e){case c.ConfigurationTarget.Global:return"user";case c.ConfigurationTarget.Workspace:return"workspace";case c.ConfigurationTarget.WorkspaceFolder:return"workspaceFolder";default:return"unknown"}}V(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="object")try{return JSON.stringify(e)===JSON.stringify(t)}catch{return!1}return!1}G(e,t){if(e)switch(t){case c.ConfigurationTarget.Global:return e.globalValue;case c.ConfigurationTarget.Workspace:return e.workspaceValue;case c.ConfigurationTarget.WorkspaceFolder:return e.workspaceFolderValue;default:return}}},v=null;function ce(o){return(!v||o&&o.forceNew)&&(v=new E(o)),v}P.exports={SettingsCoordinator:E,getSettingsCoordinator:ce}});var R=m((xe,W)=>{function f(o=""){return o?o.replace(/\\/g,"/"):""}function le(o=""){let e=f(o);return e?e.split("/").filter(Boolean):[]}function U(o=""){let e=le(o);return e.length?e[e.length-1]:""}function ue(o=""){let e=U(o),t=e.lastIndexOf(".");return t<=0?"":e.substring(t).toLowerCase()}function he(o=""){let e=f(o),t=e.lastIndexOf("/");return t===-1?"":e.substring(0,t)}function de(...o){return f(o.filter(Boolean).join("/")).replace(/\/+/g,"/")}function ge(o=""){return f(o).toLowerCase()}function fe(o=""){if(!o)return"";if(typeof o=="string")return o;if(typeof o.fsPath=="string"&&o.fsPath.length>0)return o.fsPath;if(typeof o.path=="string"&&o.path.length>0)return o.path;if(typeof o.toString=="function")try{return o.toString(!0)}catch{return o.toString()}return String(o)}function pe(o="",e=""){let t=f(o),r=f(e);return t&&r.startsWith(t)?r.substring(t.length).replace(/^\/+/,""):r}W.exports={normalizePath:f,getFileName:U,getExtension:ue,getDirectory:he,joinPath:de,getCacheKey:ge,getUriPath:fe,getRelativePath:pe}});var z=m((Ie,B)=>{var me="__explorerDatesVscode",p=null,_=null,O=!1;function we(){try{return globalThis[me]}catch{return}}function ye(){if(_)return _;let o={dispose(){}};class e{constructor(n){this.id=n}}let t={Light:1,Dark:2,HighContrast:3};return _={window:{activeColorTheme:{kind:t.Dark},onDidChangeActiveColorTheme:()=>o,showInformationMessage:async()=>{},createOutputChannel:()=>({appendLine:()=>{},dispose:()=>{}})},ColorThemeKind:t,ThemeColor:e,commands:{executeCommand:async()=>{}},workspace:{getConfiguration:()=>({get:()=>{},update:async()=>{}})},ConfigurationTarget:{Global:1,Workspace:2,WorkspaceFolder:3}},_}var Ce=new Set(["MODULE_NOT_FOUND","ERR_MODULE_NOT_FOUND","WEB_NATIVE_MODULE"]);function Le(o){return!o||o.code&&Ce.has(o.code)?!0:(typeof o.message=="string"?o.message:"").includes("Cannot find module 'vscode'")}function y(){let o=we();if(o)return p=o,O=!1,p;if(p&&!O)return p;try{p=require("vscode"),O=!1}catch(e){if(Le(e))p=ye(),O=!0;else throw e}return p}var s=new Proxy({},{get(o,e){return y()[e]},set(o,e,t){return y()[e]=t,!0},has(o,e){return e in y()},ownKeys(){return Reflect.ownKeys(y())},getOwnPropertyDescriptor(o,e){let t=Object.getOwnPropertyDescriptor(y(),e);return t&&(t.configurable=!0),t}}),{getLogger:Te}=L(),{getSettingsCoordinator:be}=A(),{getExtension:Ee}=R(),$=class{constructor(){this._logger=Te(),this.g=be(),this.t=s.window.activeColorTheme.kind,this.a=[],this.f=null,this.K(),this._logger.info("ThemeIntegrationManager initialized",{currentTheme:this.n(this.t)})}K(){this.f=s.window.onDidChangeActiveColorTheme(e=>{let t=this.t;this.t=e.kind,this._logger.debug("Theme changed",{from:this.n(t),to:this.n(e.kind)}),this.a.forEach(r=>{try{r(e,t)}catch(n){this._logger.error("Theme change listener failed",n)}})})}n(e){switch(e){case s.ColorThemeKind.Light:return"Light";case s.ColorThemeKind.Dark:return"Dark";case s.ColorThemeKind.HighContrast:return"High Contrast";default:return"Unknown"}}onThemeChange(e){return this.a.push(e),{dispose:()=>{let t=this.a.indexOf(e);t!==-1&&this.a.splice(t,1)}}}getAdaptiveColors(){let e=this.t===s.ColorThemeKind.Light;return this.t===s.ColorThemeKind.HighContrast?this.j():e?this.P():this.U()}P(){return{veryRecent:new s.ThemeColor("list.highlightForeground"),recent:new s.ThemeColor("list.warningForeground"),old:new s.ThemeColor("list.errorForeground"),javascript:new s.ThemeColor("symbolIcon.functionForeground"),css:new s.ThemeColor("symbolIcon.colorForeground"),html:new s.ThemeColor("symbolIcon.snippetForeground"),json:new s.ThemeColor("symbolIcon.stringForeground"),markdown:new s.ThemeColor("symbolIcon.textForeground"),python:new s.ThemeColor("symbolIcon.classForeground"),subtle:new s.ThemeColor("list.inactiveSelectionForeground"),muted:new s.ThemeColor("list.deemphasizedForeground"),emphasis:new s.ThemeColor("list.highlightForeground")}}U(){return{veryRecent:new s.ThemeColor("list.highlightForeground"),recent:new s.ThemeColor("charts.yellow"),old:new s.ThemeColor("charts.red"),javascript:new s.ThemeColor("symbolIcon.functionForeground"),css:new s.ThemeColor("charts.purple"),html:new s.ThemeColor("charts.orange"),json:new s.ThemeColor("symbolIcon.stringForeground"),markdown:new s.ThemeColor("charts.yellow"),python:new s.ThemeColor("symbolIcon.classForeground"),subtle:new s.ThemeColor("list.inactiveSelectionForeground"),muted:new s.ThemeColor("list.deemphasizedForeground"),emphasis:new s.ThemeColor("list.highlightForeground")}}j(){return{veryRecent:new s.ThemeColor("list.highlightForeground"),recent:new s.ThemeColor("list.warningForeground"),old:new s.ThemeColor("list.errorForeground"),javascript:new s.ThemeColor("list.highlightForeground"),css:new s.ThemeColor("list.warningForeground"),html:new s.ThemeColor("list.errorForeground"),json:new s.ThemeColor("list.highlightForeground"),markdown:new s.ThemeColor("list.warningForeground"),python:new s.ThemeColor("list.errorForeground"),subtle:new s.ThemeColor("list.highlightForeground"),muted:new s.ThemeColor("list.inactiveSelectionForeground"),emphasis:new s.ThemeColor("list.focusHighlightForeground")}}getColorForContext(e,t="normal"){let r=this.getAdaptiveColors();switch(e){case"success":case"recent":return t==="subtle"?r.subtle:r.veryRecent;case"warning":case"medium":return t==="subtle"?r.muted:r.recent;case"error":case"old":return t==="subtle"?r.emphasis:r.old;case"javascript":case"typescript":return r.javascript;case"css":case"scss":case"less":return r.css;case"html":case"xml":return r.html;case"json":case"yaml":return r.json;case"markdown":case"text":return r.markdown;case"python":return r.python;default:return t==="subtle"?r.muted:r.subtle}}applyThemeAwareColorScheme(e,t="",r=0){if(e==="none")return;if(e==="adaptive")return this.W(t,r);let n=this.getAdaptiveColors();switch(e){case"recency":return r<36e5?n.veryRecent:r<864e5?n.recent:n.old;case"file-type":return this.D(t);case"subtle":return r<36e5?n.subtle:r<6048e5?n.muted:n.emphasis;case"vibrant":return this.B(r);case"custom":return r<36e5?new s.ThemeColor("explorerDates.customColor.veryRecent"):r<864e5?new s.ThemeColor("explorerDates.customColor.recent"):new s.ThemeColor("explorerDates.customColor.old");default:return}}B(e){return e<36e5?new s.ThemeColor("list.highlightForeground"):e<864e5?new s.ThemeColor("list.warningForeground"):new s.ThemeColor("list.errorForeground")}W(e,t){let r=this.D(e);if(r)return r;let n=this.getAdaptiveColors();return t<36e5?n.veryRecent:t<864e5?n.recent:n.old}D(e){let t=Ee(e),r=this.getAdaptiveColors();return[".js",".ts",".jsx",".tsx",".mjs"].includes(t)?r.javascript:[".css",".scss",".sass",".less",".stylus"].includes(t)?r.css:[".html",".htm",".xml",".svg"].includes(t)?r.html:[".json",".yaml",".yml",".toml"].includes(t)?r.json:[".md",".markdown",".txt",".rst"].includes(t)?r.markdown:[".py",".pyx",".pyi"].includes(t)?r.python:null}getSuggestedColorScheme(){switch(this.t){case s.ColorThemeKind.Light:return"vibrant";case s.ColorThemeKind.Dark:return"recency";case s.ColorThemeKind.HighContrast:return"none";default:return"recency"}}getIconThemeIntegration(){return{iconTheme:s.workspace.getConfiguration("workbench").get("iconTheme"),suggestions:{"vs-seti":{recommendedColorScheme:"file-type",description:"File-type colors complement Seti icons perfectly"},"material-icon-theme":{recommendedColorScheme:"subtle",description:"Subtle colors work well with Material icons"},"vscode-icons":{recommendedColorScheme:"recency",description:"Recency-based colors pair nicely with VS Code icons"}}}}async autoConfigureForTheme(){try{let e=this.g.getValue("colorScheme")??"none";if(e==="none"||e==="auto"){let t=this.getSuggestedColorScheme();await this.g.updateSetting("colorScheme",t,{scope:"user",reason:"theme-auto-config"}),this._logger.info(`Auto-configured color scheme for ${this.n(this.t)} theme: ${t}`),await s.window.showInformationMessage(`Explorer Dates adapted to your ${this.n(this.t)} theme`,"Customize","OK")==="Customize"&&await s.commands.executeCommand("workbench.action.openSettings","explorerDates.colorScheme")}}catch(e){this._logger.error("Failed to auto-configure for theme",e)}}getCurrentThemeInfo(){return{kind:this.t,kindName:this.n(this.t),isLight:this.t===s.ColorThemeKind.Light,isDark:this.t===s.ColorThemeKind.Dark,isHighContrast:this.t===s.ColorThemeKind.HighContrast,suggestedColorScheme:this.getSuggestedColorScheme(),adaptiveColors:this.getAdaptiveColors()}}dispose(){if(this.a.length=0,this.f){try{this.f.dispose()}catch(e){this._logger.warn("Failed to dispose theme change subscription",e)}this.f=null}this._logger.info("ThemeIntegrationManager disposed")}};B.exports={ThemeIntegrationManager:$}});var H=m((Ge,q)=>{var M=require("vscode"),k={en:{now:"now",minutes:"m",hours:"h",days:"d",weeks:"w",months:"mo",years:"y",justNow:"just now",minutesAgo:o=>`${o} minute${o!==1?"s":""} ago`,hoursAgo:o=>`${o} hour${o!==1?"s":""} ago`,yesterday:"yesterday",daysAgo:o=>`${o} day${o!==1?"s":""} ago`,lastModified:"Last modified",refreshSuccess:"Date decorations refreshed",activationError:"Explorer Dates failed to activate",errorAccessingFile:"Error accessing file for decoration"},es:{now:"ahora",minutes:"m",hours:"h",days:"d",weeks:"s",months:"m",years:"a",justNow:"ahora mismo",minutesAgo:o=>`hace ${o} minuto${o!==1?"s":""}`,hoursAgo:o=>`hace ${o} hora${o!==1?"s":""}`,yesterday:"ayer",daysAgo:o=>`hace ${o} d\xEDa${o!==1?"s":""}`,lastModified:"\xDAltima modificaci\xF3n",refreshSuccess:"Decoraciones de fecha actualizadas",activationError:"Explorer Dates no se pudo activar",errorAccessingFile:"Error al acceder al archivo para decoraci\xF3n"},fr:{now:"maintenant",minutes:"m",hours:"h",days:"j",weeks:"s",months:"m",years:"a",justNow:"\xE0 l'instant",minutesAgo:o=>`il y a ${o} minute${o!==1?"s":""}`,hoursAgo:o=>`il y a ${o} heure${o!==1?"s":""}`,yesterday:"hier",daysAgo:o=>`il y a ${o} jour${o!==1?"s":""}`,lastModified:"Derni\xE8re modification",refreshSuccess:"D\xE9corations de date actualis\xE9es",activationError:"\xC9chec de l'activation d'Explorer Dates",errorAccessingFile:"Erreur lors de l'acc\xE8s au fichier pour la d\xE9coration"},de:{now:"jetzt",minutes:"Min",hours:"Std",days:"T",weeks:"W",months:"Mon",years:"J",justNow:"gerade eben",minutesAgo:o=>`vor ${o} Minute${o!==1?"n":""}`,hoursAgo:o=>`vor ${o} Stunde${o!==1?"n":""}`,yesterday:"gestern",daysAgo:o=>`vor ${o} Tag${o!==1?"en":""}`,lastModified:"Zuletzt ge\xE4ndert",refreshSuccess:"Datumsdekorationen aktualisiert",activationError:"Explorer Dates konnte nicht aktiviert werden",errorAccessingFile:"Fehler beim Zugriff auf Datei f\xFCr Dekoration"},ja:{now:"\u4ECA",minutes:"\u5206",hours:"\u6642\u9593",days:"\u65E5",weeks:"\u9031",months:"\u30F6\u6708",years:"\u5E74",justNow:"\u305F\u3063\u305F\u4ECA",minutesAgo:o=>`${o}\u5206\u524D`,hoursAgo:o=>`${o}\u6642\u9593\u524D`,yesterday:"\u6628\u65E5",daysAgo:o=>`${o}\u65E5\u524D`,lastModified:"\u6700\u7D42\u66F4\u65B0",refreshSuccess:"\u65E5\u4ED8\u88C5\u98FE\u304C\u66F4\u65B0\u3055\u308C\u307E\u3057\u305F",activationError:"Explorer Dates\u306E\u30A2\u30AF\u30C6\u30A3\u30D9\u30FC\u30B7\u30E7\u30F3\u306B\u5931\u6557\u3057\u307E\u3057\u305F",errorAccessingFile:"\u30D5\u30A1\u30A4\u30EB\u30A2\u30AF\u30BB\u30B9\u4E2D\u306B\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F"},zh:{now:"\u73B0\u5728",minutes:"\u5206\u949F",hours:"\u5C0F\u65F6",days:"\u5929",weeks:"\u5468",months:"\u6708",years:"\u5E74",justNow:"\u521A\u521A",minutesAgo:o=>`${o}\u5206\u949F\u524D`,hoursAgo:o=>`${o}\u5C0F\u65F6\u524D`,yesterday:"\u6628\u5929",daysAgo:o=>`${o}\u5929\u524D`,lastModified:"\u6700\u540E\u4FEE\u6539",refreshSuccess:"\u65E5\u671F\u88C5\u9970\u5DF2\u5237\u65B0",activationError:"Explorer Dates \u6FC0\u6D3B\u5931\u8D25",errorAccessingFile:"\u8BBF\u95EE\u6587\u4EF6\u88C5\u9970\u65F6\u51FA\u9519"}},S=class{constructor(){this.p="en",this.e=null,this.F(),this.e=M.workspace.onDidChangeConfiguration(e=>{e.affectsConfiguration("explorerDates.locale")&&this.F()})}F(){let t=M.workspace.getConfiguration("explorerDates").get("locale","auto");t==="auto"&&(t=M.env.language.split("-")[0]),k[t]||(t="en"),this.p=t}getString(e,...t){let n=(k[this.p]||k.en)[e];return typeof n=="function"?n(...t):n||k.en[e]||e}getCurrentLocale(){return this.p}formatDate(e,t={}){try{return e.toLocaleDateString(this.p,t)}catch{return e.toLocaleDateString("en",t)}}dispose(){this.e&&(this.e.dispose(),this.e=null),C===this&&(C=null)}},C=null;function _e(){return C||(C=new S),C}q.exports={LocalizationManager:S,getLocalization:_e}});var J=m((Ve,Y)=>{var d=require("vscode"),{getLogger:Oe}=L(),{getLocalization:ke}=H(),{getFileName:Se}=R(),{getSettingsCoordinator:De}=A(),x=class{constructor(){this._logger=Oe(),this.X=ke(),this.g=De(),this.r=!1,this.y=!0,this.E=new Map,this.e=null,this.v(),this.z(),this._logger.info("AccessibilityManager initialized",{accessibilityMode:this.r,keyboardNavigation:this.y})}v(){let e=d.workspace.getConfiguration("explorerDates");this.r=e.get("accessibilityMode",!1),!e.has("accessibilityMode")&&this._()&&this._logger.info("Screen reader detected - consider enabling accessibility mode in settings"),this.y=e.get("keyboardNavigation",!0)}z(){this.e&&this.e.dispose(),this.e=d.workspace.onDidChangeConfiguration(e=>{(e.affectsConfiguration("explorerDates.accessibilityMode")||e.affectsConfiguration("explorerDates.keyboardNavigation"))&&(this.v(),this._logger.debug("Accessibility configuration updated",{accessibilityMode:this.r,keyboardNavigation:this.y}))})}getAccessibleTooltip(e,t,r,n,i=null){if(!this.r)return null;let a=Se(e),l=this.A(t),u=this.A(r),h=`File: ${a}. `;return h+=`Last modified: ${l}. `,h+=`Created: ${u}. `,n!==void 0&&(h+=`Size: ${this.q(n)}. `),i&&i.authorName&&(h+=`Last modified by: ${i.authorName}. `),h+=`Full path: ${e}`,h}A(e){let r=new Date().getTime()-e.getTime(),n=Math.floor(r/(1e3*60)),i=Math.floor(r/(1e3*60*60)),a=Math.floor(r/(1e3*60*60*24));return n<1?"just now":n<60?`${n} ${n===1?"minute":"minutes"} ago`:i<24?`${i} ${i===1?"hour":"hours"} ago`:a<7?`${a} ${a===1?"day":"days"} ago`:e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}q(e){if(e<1024)return`${e} bytes`;let t=e/1024;if(t<1024)return`${Math.round(t)} kilobytes`;let r=t/1024;return`${Math.round(r*10)/10} megabytes`}getAccessibleBadge(e){if(!this.r)return e;let t=e.split("|"),r=t[0],n=t[1],i=t.length>2?t[2]:null,a=this.H(r);return n&&(a+=` ${this.Y(n)}`),i&&(a+=` by ${i.replace("\u2022","")}`),a}H(e){let t={m:" minutes ago",h:" hours ago",d:" days ago",w:" weeks ago",mo:" months ago",yr:" years ago",min:" minutes ago",hrs:" hours ago",day:" days ago",wk:" weeks ago"},r=e;for(let[n,i]of Object.entries(t))if(e.endsWith(n)){r=e.slice(0,-n.length)+i;break}return r}Y(e){if(!e.startsWith("~"))return e;let t=e.slice(1);return t.endsWith("B")?t.slice(0,-1)+" bytes":t.endsWith("K")?t.slice(0,-1)+" kilobytes":t.endsWith("M")?t.slice(0,-1)+" megabytes":t}createFocusIndicator(e,t){if(!this.y)return null;let r=Math.random().toString(36).substr(2,9);return this.E.set(r,{element:e,description:t,timestamp:Date.now()}),{id:r,dispose:()=>{this.E.delete(r)}}}announceToScreenReader(e,t="polite"){this.r&&(t==="assertive"?d.window.showWarningMessage(e):this._logger.debug("Screen reader announcement",{message:e,priority:t}))}getKeyboardShortcutHelp(){return[{key:"Ctrl+Shift+D (Cmd+Shift+D)",command:"Toggle date decorations",description:"Show or hide file modification times in Explorer"},{key:"Ctrl+Shift+C (Cmd+Shift+C)",command:"Copy file date",description:"Copy selected file's modification date to clipboard"},{key:"Ctrl+Shift+I (Cmd+Shift+I)",command:"Show file details",description:"Display detailed information about selected file"},{key:"Ctrl+Shift+R (Cmd+Shift+R)",command:"Refresh decorations",description:"Refresh all file modification time decorations"},{key:"Ctrl+Shift+A (Cmd+Shift+A)",command:"Show workspace activity",description:"Open workspace file activity analysis"},{key:"Ctrl+Shift+F (Cmd+Shift+F)",command:"Toggle fade old files",description:"Toggle fading effect for old files"}]}async showKeyboardShortcutsHelp(){let e=this.getKeyboardShortcutHelp();await d.window.showInformationMessage("Keyboard shortcuts help available in output panel","Show Shortcuts").then(t=>{if(t==="Show Shortcuts"){let r=d.window.createOutputChannel("Explorer Dates Shortcuts");r.appendLine("Explorer Dates Keyboard Shortcuts"),r.appendLine("====================================="),r.appendLine(""),e.forEach(n=>{r.appendLine(`${n.key}`),r.appendLine(`  Command: ${n.command}`),r.appendLine(`  Description: ${n.description}`),r.appendLine("")}),r.show()}})}shouldEnhanceAccessibility(){return this.r||this._()}_(){return d.workspace.getConfiguration("editor").get("accessibilitySupport")==="on"}getAccessibilityRecommendations(){let e=[];return this._()&&(e.push({type:"setting",setting:"explorerDates.accessibilityMode",value:!0,reason:"Enable enhanced tooltips and screen reader optimizations"}),e.push({type:"setting",setting:"explorerDates.colorScheme",value:"none",reason:"Colors may not be useful with screen readers"}),e.push({type:"setting",setting:"explorerDates.dateDecorationFormat",value:"relative-long",reason:"Longer format is more descriptive for screen readers"})),d.window.activeColorTheme.kind===d.ColorThemeKind.HighContrast&&e.push({type:"setting",setting:"explorerDates.highContrastMode",value:!0,reason:"Optimize for high contrast themes"}),e}async applyAccessibilityRecommendations(){let e=this.getAccessibilityRecommendations();if(e.length===0){d.window.showInformationMessage("No accessibility recommendations at this time.");return}let t=0;for(let r of e)if(r.type==="setting")try{await this.g.updateSetting(r.setting,r.value,{scope:"user",reason:"accessibility-recommendation"}),t++,this._logger.info(`Applied accessibility recommendation: ${r.setting} = ${r.value}`)}catch(n){this._logger.error(`Failed to apply recommendation: ${r.setting}`,n)}t>0&&d.window.showInformationMessage(`Applied ${t} accessibility recommendations. Restart may be required for all changes to take effect.`)}dispose(){this.E.clear(),this.e&&(this.e.dispose(),this.e=null),this._logger.info("AccessibilityManager disposed")}};Y.exports={AccessibilityManager:x}});var X=require("vscode"),{getLogger:Fe}=L(),D=Fe(),I=null,G=null;function Z(){if(!I)try{let{ThemeIntegrationManager:o}=z();I=o}catch(o){return D.warn("Failed to load ThemeIntegrationManager",o),null}return new I}function Q(){if(!G)try{let{AccessibilityManager:o}=J();G=o}catch(o){return D.warn("Failed to load AccessibilityManager",o),null}return new G}async function ve(){let o=X.workspace.getConfiguration("explorerDates"),e=o.get("autoThemeAdaptation",!0),t=o.get("accessibilityMode",!1),r={themeManager:null,accessibilityManager:null};if(e)try{r.themeManager=Z()}catch(n){D.warn("Failed to create theme manager",n)}if(t)try{r.accessibilityManager=Q()}catch(n){D.warn("Failed to create accessibility manager",n)}return r}function Ae(){let o=X.workspace.getConfiguration("explorerDates"),e=o.get("autoThemeAdaptation",!0),t=o.get("accessibilityMode",!1);return e||t}module.exports={createUIAdapters:ve,shouldLoadUIAdapters:Ae,getThemeManager:Z,getAccessibilityManager:Q};
})(); (function(){const primaryKey="explorerDatesChunks";const legacyKey="__explorerDatesChunks";const registry=(globalThis[primaryKey]=globalThis[primaryKey]||globalThis[legacyKey]||(globalThis[legacyKey]={}));registry["uiAdapters"]=module.exports;})();
